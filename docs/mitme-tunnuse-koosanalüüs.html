<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Peatükk 7 Mitme tunnuse koosanalüüs | Metsanduslik statistika R ja MS Excel keskkonnas</title>
  <meta name="description" content="Metsandusliku statistika õpik" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Peatükk 7 Mitme tunnuse koosanalüüs | Metsanduslik statistika R ja MS Excel keskkonnas" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Metsandusliku statistika õpik" />
  <meta name="github-repo" content="xyzallan/met-stat-opik" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Peatükk 7 Mitme tunnuse koosanalüüs | Metsanduslik statistika R ja MS Excel keskkonnas" />
  
  <meta name="twitter:description" content="Metsandusliku statistika õpik" />
  

<meta name="author" content="Allan Sims" />
<meta name="author" content="Andres Kiviste" />
<meta name="author" content="Diana Laarmann" />


<meta name="date" content="2025-01-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="statistilised-hinnangud.html"/>
<link rel="next" href="mittelineaarne-regressioon.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Sissejuhatus</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#statistikaprogramm-r"><i class="fa fa-check"></i><b>1.1</b> Statistikaprogramm R</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="07-mitmetunnuse.html"><a href="#andmete-importimine-ja-t%C3%B6%C3%B6tlemine"><i class="fa fa-check"></i><b>1.1.1</b> Andmete importimine ja töötlemine</a></li>
<li class="chapter" data-level="1.1.2" data-path="07-mitmetunnuse.html"><a href="#andmete-anal%C3%BC%C3%BCs"><i class="fa fa-check"></i><b>1.1.2</b> Andmete analüüs</a></li>
<li class="chapter" data-level="1.1.3" data-path="07-mitmetunnuse.html"><a href="#statistilised-mudelid-ja-anal%C3%BC%C3%BCsimeetodid"><i class="fa fa-check"></i><b>1.1.3</b> Statistilised mudelid ja analüüsimeetodid</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#andmete-visualiseerimine"><i class="fa fa-check"></i><b>1.1.4</b> Andmete visualiseerimine</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#laiendatavus-ja-kogukond"><i class="fa fa-check"></i><b>1.1.5</b> Laiendatavus ja kogukond</a></li>
<li class="chapter" data-level="1.1.6" data-path="index.html"><a href="index.html#r-i-paketid"><i class="fa fa-check"></i><b>1.1.6</b> R-i paketid</a></li>
<li class="chapter" data-level="1.1.7" data-path="index.html"><a href="index.html#r-i-keskkonnas-arvutamine"><i class="fa fa-check"></i><b>1.1.7</b> R-i keskkonnas arvutamine</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#ms-excel"><i class="fa fa-check"></i><b>1.2</b> MS Excel</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#andmete-importimine-ja-korraldamine"><i class="fa fa-check"></i><b>1.2.1</b> Andmete importimine ja korraldamine</a></li>
<li class="chapter" data-level="1.2.2" data-path="07-mitmetunnuse.html"><a href="#andmete-anal%C3%BC%C3%BCsimine"><i class="fa fa-check"></i><b>1.2.2</b> Andmete analüüsimine</a></li>
<li class="chapter" data-level="1.2.3" data-path="07-mitmetunnuse.html"><a href="#statistilised-testid-ja-anal%C3%BC%C3%BCsimeetodid"><i class="fa fa-check"></i><b>1.2.3</b> Statistilised testid ja analüüsimeetodid</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#andmete-visualiseerimine-1"><i class="fa fa-check"></i><b>1.2.4</b> Andmete visualiseerimine</a></li>
<li class="chapter" data-level="1.2.5" data-path="index.html"><a href="index.html#makrod-ja-vba-skriptimine"><i class="fa fa-check"></i><b>1.2.5</b> Makrod ja VBA skriptimine</a></li>
<li class="chapter" data-level="1.2.6" data-path="07-mitmetunnuse.html"><a href="#lisandmoodulid-ja-t%C3%B6%C3%B6riistad"><i class="fa fa-check"></i><b>1.2.6</b> Lisandmoodulid ja tööriistad</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="andmestik.html"><a href="andmestik.html"><i class="fa fa-check"></i><b>2</b> Andmestik</a>
<ul>
<li class="chapter" data-level="2.1" data-path="07-mitmetunnuse.html"><a href="#andmestike-t%C3%BC%C3%BCbid"><i class="fa fa-check"></i><b>2.1</b> Andmestike tüübid</a></li>
<li class="chapter" data-level="2.2" data-path="andmestik.html"><a href="andmestik.html#andmestiku-struktuur"><i class="fa fa-check"></i><b>2.2</b> Andmestiku struktuur</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="andmestik.html"><a href="andmestik.html#vektor"><i class="fa fa-check"></i><b>2.2.1</b> Vektor</a></li>
<li class="chapter" data-level="2.2.2" data-path="andmestik.html"><a href="andmestik.html#maatriks-array"><i class="fa fa-check"></i><b>2.2.2</b> Maatriks, array</a></li>
<li class="chapter" data-level="2.2.3" data-path="andmestik.html"><a href="andmestik.html#data.frame"><i class="fa fa-check"></i><b>2.2.3</b> data.frame</a></li>
<li class="chapter" data-level="2.2.4" data-path="andmestik.html"><a href="andmestik.html#list"><i class="fa fa-check"></i><b>2.2.4</b> list</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="andmestik.html"><a href="andmestik.html#andmestike-sisse-toomine"><i class="fa fa-check"></i><b>2.3</b> Andmestike sisse toomine</a></li>
<li class="chapter" data-level="2.4" data-path="andmestik.html"><a href="andmestik.html#arvutamine-r-i-keskkonnas"><i class="fa fa-check"></i><b>2.4</b> Arvutamine R-i keskkonnas</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="07-mitmetunnuse.html"><a href="#andmestike-r%C3%BChmitamine"><i class="fa fa-check"></i><b>3</b> Andmestike rühmitamine</a>
<ul>
<li class="chapter" data-level="3.1" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html"><i class="fa fa-check"></i><b>3.1</b> Jaotused</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#empiiriline-jaotus"><i class="fa fa-check"></i><b>3.1.1</b> Empiiriline jaotus</a></li>
<li class="chapter" data-level="3.1.2" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#teoreetiline-jaotus"><i class="fa fa-check"></i><b>3.1.2</b> Teoreetiline jaotus</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#histogramm"><i class="fa fa-check"></i><b>3.2</b> Histogramm</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#r-keskkonnas"><i class="fa fa-check"></i><b>3.2.1</b> R keskkonnas:</a></li>
<li class="chapter" data-level="3.2.2" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#exceli-keskkonnas"><i class="fa fa-check"></i><b>3.2.2</b> Exceli keskkonnas:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="karakteristikud.html"><a href="karakteristikud.html"><i class="fa fa-check"></i><b>4</b> Karakteristikud</a>
<ul>
<li class="chapter" data-level="4.1" data-path="karakteristikud.html"><a href="karakteristikud.html#keskmised"><i class="fa fa-check"></i><b>4.1</b> Keskmised</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="karakteristikud.html"><a href="karakteristikud.html#aritmeetiline-keskmine"><i class="fa fa-check"></i><b>4.1.1</b> Aritmeetiline keskmine</a></li>
<li class="chapter" data-level="4.1.2" data-path="karakteristikud.html"><a href="karakteristikud.html#ruutkeskmine"><i class="fa fa-check"></i><b>4.1.2</b> Ruutkeskmine</a></li>
<li class="chapter" data-level="4.1.3" data-path="karakteristikud.html"><a href="karakteristikud.html#geomeetriline-keskmine"><i class="fa fa-check"></i><b>4.1.3</b> Geomeetriline keskmine</a></li>
<li class="chapter" data-level="4.1.4" data-path="karakteristikud.html"><a href="karakteristikud.html#harmooniline-keskmine"><i class="fa fa-check"></i><b>4.1.4</b> Harmooniline keskmine</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="karakteristikud.html"><a href="karakteristikud.html#mediaan"><i class="fa fa-check"></i><b>4.2</b> Mediaan</a></li>
<li class="chapter" data-level="4.3" data-path="karakteristikud.html"><a href="karakteristikud.html#kvantiilid"><i class="fa fa-check"></i><b>4.3</b> Kvantiilid</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html"><i class="fa fa-check"></i><b>5</b> Jaotusfunktsioonid</a>
<ul>
<li class="chapter" data-level="5.1" data-path="07-mitmetunnuse.html"><a href="#h%C3%BCpotees"><i class="fa fa-check"></i><b>5.1</b> Hüpotees</a></li>
<li class="chapter" data-level="5.2" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#jaotusfunktsioon"><i class="fa fa-check"></i><b>5.2</b> Jaotusfunktsioon</a></li>
<li class="chapter" data-level="5.3" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#tihedusfunktsioon"><i class="fa fa-check"></i><b>5.3</b> Tihedusfunktsioon</a></li>
<li class="chapter" data-level="5.4" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#normaaljaotus"><i class="fa fa-check"></i><b>5.4</b> Normaaljaotus</a></li>
<li class="chapter" data-level="5.5" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#t-jaotus"><i class="fa fa-check"></i><b>5.5</b> T-jaotus</a></li>
<li class="chapter" data-level="5.6" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#f-jaotus"><i class="fa fa-check"></i><b>5.6</b> F-jaotus</a></li>
<li class="chapter" data-level="5.7" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#hii-ruut-jaotus"><i class="fa fa-check"></i><b>5.7</b> Hii-ruut-jaotus</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html"><i class="fa fa-check"></i><b>6</b> Statistilised hinnangud</a>
<ul>
<li class="chapter" data-level="6.1" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#hinnangud"><i class="fa fa-check"></i><b>6.1</b> Hinnangud</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#punkthinnang"><i class="fa fa-check"></i><b>6.1.1</b> Punkthinnang</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#vahemikhinnangud"><i class="fa fa-check"></i><b>6.2</b> Vahemikhinnangud</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="07-mitmetunnuse.html"><a href="#keskv%C3%A4%C3%A4rtuse-usalduspiirid"><i class="fa fa-check"></i><b>6.2.1</b> Keskväärtuse usalduspiirid</a></li>
<li class="chapter" data-level="6.2.2" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#dispersiooni-usalduspiirid"><i class="fa fa-check"></i><b>6.2.2</b> Dispersiooni usalduspiirid</a></li>
<li class="chapter" data-level="6.2.3" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#binoomjaotuse-usalduspiirid"><i class="fa fa-check"></i><b>6.2.3</b> Binoomjaotuse usalduspiirid</a></li>
<li class="chapter" data-level="6.2.4" data-path="07-mitmetunnuse.html"><a href="#standardh%C3%A4lbe-usalduspiirid"><i class="fa fa-check"></i><b>6.2.4</b> Standardhälbe usalduspiirid</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="07-mitmetunnuse.html"><a href="#mitme-tunnuse-koosanal%C3%BC%C3%BCs"><i class="fa fa-check"></i><b>7</b> Mitme tunnuse koosanalüüs</a>
<ul>
<li class="chapter" data-level="7.1" data-path="mitme-tunnuse-koosanalüüs.html"><a href="mitme-tunnuse-koosanalüüs.html"><i class="fa fa-check"></i><b>7.1</b> Lineaarne regressioon</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="mitme-tunnuse-koosanalüüs.html"><a href="mitme-tunnuse-koosanalüüs.html#eeldused"><i class="fa fa-check"></i><b>7.1.1</b> Eeldused</a></li>
<li class="chapter" data-level="7.1.2" data-path="07-mitmetunnuse.html"><a href="#v%C3%A4ljund-ja-hinnangud"><i class="fa fa-check"></i><b>7.1.2</b> Väljund ja hinnangud</a></li>
<li class="chapter" data-level="7.1.3" data-path="mitme-tunnuse-koosanalüüs.html"><a href="mitme-tunnuse-koosanalüüs.html#homoskedastilisuse-testimine"><i class="fa fa-check"></i><b>7.1.3</b> Homoskedastilisuse testimine</a></li>
<li class="chapter" data-level="7.1.4" data-path="07-mitmetunnuse.html"><a href="#j%C3%A4%C3%A4kide-normaalsuse-test"><i class="fa fa-check"></i><b>7.1.4</b> Jääkide normaalsuse test</a></li>
<li class="chapter" data-level="7.1.5" data-path="mitme-tunnuse-koosanalüüs.html"><a href="mitme-tunnuse-koosanalüüs.html#multikollineaarsus"><i class="fa fa-check"></i><b>7.1.5</b> Multikollineaarsus</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="07-mitmetunnuse.html"><a href="#dispersioonanal%C3%BC%C3%BCs"><i class="fa fa-check"></i><b>7.2</b> Dispersioonanalüüs</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mittelineaarne-regressioon.html"><a href="mittelineaarne-regressioon.html"><i class="fa fa-check"></i><b>8</b> Mittelineaarne regressioon</a></li>
<li class="chapter" data-level="9" data-path="07-mitmetunnuse.html"><a href="#mitteparameetriline-anal%C3%BC%C3%BCs"><i class="fa fa-check"></i><b>9</b> Mitteparameetriline analüüs</a>
<ul>
<li class="chapter" data-level="9.1" data-path="07-mitmetunnuse.html"><a href="#%C3%BCldistatud-aditiivne-mudel"><i class="fa fa-check"></i><b>9.1</b> Üldistatud aditiivne mudel</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Metsanduslik statistika R ja MS Excel keskkonnas</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mitme-tunnuse-koosanalüüs" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Peatükk 7</span> Mitme tunnuse koosanalüüs<a href="#mitme-tunnuse-koosanal%C3%BC%C3%BCs" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="lineaarne-regressioon" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Lineaarne regressioon<a href="mitme-tunnuse-koosanalüüs.html#lineaarne-regressioon" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lineaarne regressioon on üks viis, kuidas uurida, kuidas kaks või enam asja on omavahel seotud. Selle abil saame aru saada, kuidas ühe tunnuse muutumine mõjutab teist. Näiteks, kui me teame, kuidas ühe tunnuse väärtus muutub, saame ennustada, mis võib juhtuda teise tunnusega.</p>
<p>Lineaarne regressioon lähtub eeldusest, et kahe asja vaheline suhe on sirgejooneline. See tähendab, et kui üks tunnus muutub, siis teine asi muutub kindlal viisil, mida saab joonistada sirgjoonena. Selle meetodi eesmärk on leida kõige sobivam sirgjoon, mis näitab, kuidas need kaks tunnust on omavahel seotud. Lineaarse regressiooni mudeli võib esitada võrrandina:</p>
<p><span class="math display">\[Y = a + bX + \epsilon \]</span></p>
<p>Kus:</p>
<ul>
<li>Y on sõltuv muutuja (ennustatav muutuja)</li>
<li>X on sõltumatu muutuja (ennustav muutuja)</li>
<li>a on lõikepunkt, mis näitab, kui suur on Y väärtus, kui X väärtus on 0</li>
<li>b on regresseerimiskordaja, mis näitab, kui palju muutub Y väärtus, kui X väärtus suureneb ühe ühiku võrra</li>
<li><span class="math inline">\(\epsilon\)</span> on veaväärtus, mis tähistab juhuslikke kõrvalekaldeid mudelist</li>
</ul>
<p>Lineaarse regressiooni puhul kasutatakse mitmesuguseid meetodeid, et hinnata, kui hästi meie sirgjoon mudelina toimib. Üks selline meetod on vähim ruutude meetod. See tähendab, et me otsime sirgjoont, mis käitub nii, et meie ennustuste ja tegelikkuses mõõdetud väärtuste erinevused oleksid võimalikult väikesed. Lihtsamalt öeldes, me püüame leida sirgjoont, mis sobib kõige paremini meie andmetega, minimeerides vigu ennustustes.</p>
<div id="eeldused" class="section level3 hasAnchor" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Eeldused<a href="mitme-tunnuse-koosanalüüs.html#eeldused" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lineaarse regressiooni usaldusväärsed tulemused sõltuvad teatud eeldustest. Need eeldused aitavad tagada, et meie analüüs peegeldaks tegelikkust võimalikult täpselt. Siin on need eeldused lihtsustatult:</p>
<ul>
<li><p>Lineaarsus: eeldatakse, et kahe muutuja vaheline suhe on otsejooneline. See tähendab, et kui üks muutuja muutub, siis teise muutuja vastus on alati samasugune, sõltumata olukorrast.</p></li>
<li><p>Normaaljaotus: vead või ennustuste ja tegelike tulemuste erinevused järgivad kindlat mustrit, mis sarnaneb kella kujuga jaotusele, kus enamik tulemusi koonduvad keskele.</p></li>
<li><p>Homoskedastilisus: sõltuva muutuja väärtuste hajuvus või laialivalguvus on ühtlane kogu sõltumatu muutuja ulatuses, mis tähendab, et erinevused ei suurene ega vähene sõltumatu muutuja väärtuse kasvades.</p></li>
<li><p>Autokorrelatsiooni puudumine: vaatluste vead on omavahel sõltumatud, st et ühe vaatluse viga ei mõjuta teise vaatluse viga.</p></li>
<li><p>Multikollineaarsuse puudumine: analüüsitavad muutujad on sõltumatud, st ühe muutuja väärtus ei sõltu teise muutuja väärtusest ega ole nendega liiga tihedalt seotud.</p></li>
</ul>
<p>Need eeldused aitavad tagada, et lineaarse regressiooni mudel oleks usaldusväärne ja et selle abil tehtud järeldused peegeldaksid tegelikke seoseid.</p>
</div>
<div id="väljund-ja-hinnangud" class="section level3 hasAnchor" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Väljund ja hinnangud<a href="#v%C3%A4ljund-ja-hinnangud" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lineaarne regressioon on statistiline meetod, mis võimaldab hinnata kahe muutuja vahelist seost ning ennustada ühe muutuja väärtust teise muutuja põhjal. Lineaarse regressiooni väljundit hindamisel on olulised järgmised näitajad:</p>
<ul>
<li>Regressioonivõrrand: see on võrrand, mis kirjeldab kahe muutuja vahelist seost. Näiteks võib see välja näha järgmiselt: Y = a + bX, kus Y on sõltuv muutuja, X on sõltumatu muutuja, a on konstantne liige ja b on regresioonikordaja.</li>
<li>Regressioonikordaja (b): see näitab, kui palju sõltuv muutuja (Y) keskmist väärtust muutub ühe ühiku võrra sõltumatu muutuja (X) kasvades.</li>
<li>Konstantne liige (a): see on punkt, kus regressioonijoon lõikab Y-telge (X = 0).</li>
<li>Korrelatsioonikordaja (R): see näitab, kui hästi regressioonimudel sobitub tegelikele andmetele. Väärtused võivad varieeruda vahemikus -1 kuni 1, kus lähemal 1-le tugineb mudel andmetele paremini.</li>
</ul>
<p>Kindlasti, siin on näide, kuidas teha R-i keskkonnas lineaarset regressiooni ning lugeda andmed failist “puud.xlsx”:</p>
<p>Loeme andmed failist “puud.xlsx” ja salvestame selle dataframe’i:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="mitme-tunnuse-koosanalüüs.html#cb79-1" tabindex="-1"></a>puud_data <span class="ot">&lt;-</span> openxlsx<span class="sc">::</span><span class="fu">read.xlsx</span>(<span class="st">&quot;data/puud.xlsx&quot;</span>)</span>
<span id="cb79-2"><a href="mitme-tunnuse-koosanalüüs.html#cb79-2" tabindex="-1"></a>mudelpuud <span class="ot">&lt;-</span> <span class="fu">subset</span>(puud_data, H <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code></pre></div>
<p>Teeme lineaarse regressiooni muutujate D ja H vahel:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="mitme-tunnuse-koosanalüüs.html#cb80-1" tabindex="-1"></a>lm_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(H <span class="sc">~</span> D1, <span class="at">data =</span> mudelpuud)</span></code></pre></div>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="mitme-tunnuse-koosanalüüs.html#cb81-1" tabindex="-1"></a><span class="fu">plot</span>(H<span class="sc">~</span>D1, mudelpuud, <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">40</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">40</span>))</span>
<span id="cb81-2"><a href="mitme-tunnuse-koosanalüüs.html#cb81-2" tabindex="-1"></a><span class="fu">abline</span>(lm_model, <span class="at">col =</span> <span class="dv">2</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
<p>Vaatame väljundit:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="mitme-tunnuse-koosanalüüs.html#cb82-1" tabindex="-1"></a><span class="fu">summary</span>(lm_model)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = H ~ D1, data = mudelpuud)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -2,75109 -1,13190 -0,09022  1,01766  2,96592 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 16,21920    0,86199  18,816  &lt; 2e-16 ***
## D1           0,33648    0,03503   9,605 9,31e-13 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0,001 &#39;**&#39; 0,01 &#39;*&#39; 0,05 &#39;.&#39; 0,1 &#39; &#39; 1
## 
## Residual standard error: 1,379 on 48 degrees of freedom
## Multiple R-squared:  0,6578, Adjusted R-squared:  0,6506 
## F-statistic: 92,26 on 1 and 48 DF,  p-value: 9,315e-13</code></pre>
<p>Lineaarse regressioonimudeli kokkuvõte sisaldab mitmeid olulisi statistilisi näitajaid, mis aitavad hinnata mudeli sobivust andmetele.</p>
<p>Determinatsioonikordaja, tuntud ka kui <span class="math inline">\(R^2\)</span> (R-ruut), on statistiline mõõdik, mida kasutatakse lineaarse regressiooni kontekstis, et hinnata, kui suures ulatuses sõltuva muutuja variatsioon on seletatav sõltumatute muutujate abil mudelis. <span class="math inline">\(R^2\)</span> väärtus varieerub vahemikus 0 kuni 1, kus 0 tähendab, et mudel ei seleta sõltuva muutuja variatsiooni üldse, samas kui 1 tähendab, et mudel seletab sõltuva muutuja variatsiooni täielikult.</p>
<p><span class="math inline">\(R^2\)</span> arvutamiseks kasutatakse järgmist valemit:</p>
<p><span class="math display">\[ R^2 = 1 - \frac{\text{SS}_\text{res}}{\text{SS}_\text{tot}} \]</span></p>
<p>kus:</p>
<ul>
<li><span class="math inline">\(\text{SS}_\text{res}\)</span> on jääkide ruutude summa (residual sum of squares), mis mõõdab mudeli poolt seletamata variatsiooni.</li>
<li><span class="math inline">\(\text{SS}_\text{tot}\)</span> on kogu variatsiooni ruutude summa (total sum of squares), mis mõõdab sõltuva muutuja variatsiooni võrreldes tema keskmisega.</li>
</ul>
<p><strong>Kõrge <span class="math inline">\(R^2\)</span> väärtus</strong> (lähedane 1-le) näitab, et mudeli poolt seletatav variatsioon on suur, mis tähendab, et mudel sobib andmetele hästi. See viitab sellele, et suur osa sõltuva muutuja variatsioonist on seletatav mudeli sõltumatute muutujatega.</p>
<p><strong>Madal <span class="math inline">\(R^2\)</span> väärtus</strong> (lähedane 0-le) näitab, et mudel seletab sõltuva muutuja variatsioonist väikese osa, mis tähendab, et mudeli sobivus andmetele on kehv. See võib viidata sellele, et mudelis kasutatavad sõltumatud muutujad ei ole sõltuva muutuja variatsiooni seletamisel tõhusad.</p>
<p>Oluline on mõista, et kuigi <span class="math inline">\(R^2\)</span> on kasulik mõõdik mudeli sobivuse hindamisel, ei tähenda kõrge <span class="math inline">\(R^2\)</span> automaatselt, et mudel on õige või et sõltumatud muutujad põhjustavad sõltuva muutuja käitumist. Samuti ei pruugi madal <span class="math inline">\(R^2\)</span> alati tähendada mudeli ebatõhusust, eriti keerukamate või mittelineaarsete suhete puhul. Lisaks tuleks mudeli hindamisel arvesse võtta ka muid tegureid, nagu mudeli tõlgendatavus, sõltumatute muutujate olulisus ja korrigeeritud <span class="math inline">\(R^2\)</span>.</p>
<p>Lineaarse regressiooni <strong>nihutamata hinnang</strong>, tuntud ka kui korrigeeritud <span class="math inline">\(R^2\)</span> (inglise keeles “adjusted <span class="math inline">\(R^2\)</span>”), on statistiline mõõdik, mida kasutatakse mudeli seletusvõime hindamiseks, võttes arvesse mudeli sõltumatute muutujate arvu. Erinevalt lihtsast <span class="math inline">\(R^2\)</span>-st, mis mõõdab, kui suur osa sõltuva muutuja variatsioonist on seletatav mudeli abil, arvestab korrigeeritud <span class="math inline">\(R^2\)</span> mudeli keerukust, arvestab mudeli liigsete sõltumatute muutujate lisamise eest. See on oluline, kuna mudelisse liiga palju muutujaid lisades võib <span class="math inline">\(R^2\)</span> väärtus eksitavalt tõusta, viidates paremale mudeli sobivusele, kuigi tegelikult võivad lisatud muutujad olla statistiliselt mitteolulised.</p>
<p>Korrigeeritud <span class="math inline">\(R^2\)</span> arvutatakse järgmise valemi järgi:</p>
<p><span class="math display">\[ R^2_{\text{adj}} = 1 - \left( \frac{(1 - R^2)(n - 1)}{n - k - 1} \right) \]</span></p>
<p>kus:</p>
<ul>
<li><span class="math inline">\(R^2\)</span> on mudeli lihtne determinatsioonikoefitsient,</li>
<li><span class="math inline">\(n\)</span> on vaatluste arv,</li>
<li><span class="math inline">\(k\)</span> on sõltumatute muutujate arv mudelis.</li>
</ul>
<p>Valemist nähtub, et <span class="math inline">\(R^2_{\text{adj}}\)</span> väheneb, kui lisatakse muutujaid, mis ei paranda mudeli seletusvõimet proportsionaalselt nende arvuga. Seega, erinevalt lihtsast <span class="math inline">\(R^2\)</span>-st, pakub korrigeeritud <span class="math inline">\(R^2\)</span> ausamat hinnangut mudeli sobivusele, eriti kui võrrelda mudeleid, mis sisaldavad erinevat arvu sõltumatuid muutujaid. Korrigeeritud <span class="math inline">\(R^2\)</span> on eriti kasulik mudelite võrdlemisel ja mudeli valimisel, aidates vältida ülemudelitamist ja eelistades mudelit, mis annab parima tasakaalu seletusvõime ja keerukuse vahel.</p>
<ul>
<li><p>P-väärtused näitavad, kas sõltumatu muutuja on statistiliselt oluline mudelis. Kui P-väärtus on väiksem kui 0,05, siis võib järeldada, et sõltumatu muutuja mõjutab oluliselt sõltuvat muutujat.</p></li>
<li><p>Regressioonikordaja väärtused annavad teavet sõltumatute muutujate mõju kohta sõltuvale muutujale.</p></li>
</ul>
<p>Kokkuvõttes aitab väljund mõista, kuidas mudel sobitub andmetega ja millist infot see pakub sõltuvate ja sõltumatute muutujate seoste kohta.</p>
</div>
<div id="homoskedastilisuse-testimine" class="section level3 hasAnchor" number="7.1.3">
<h3><span class="header-section-number">7.1.3</span> Homoskedastilisuse testimine<a href="mitme-tunnuse-koosanalüüs.html#homoskedastilisuse-testimine" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Homoskedastilisuse ehk veakvoodi püsimise kontrollimine on oluline samm lineaarse regressioonimudeli sobivuse hindamisel. Alljärgnevalt on näide, kuidas kontrollida lineaarse regressioonimudeli homoskedastilisust:</p>
<p><strong>Jääkide vs ennustatud väärtused graafik</strong>: Üks lihtsamaid viise homoskedastilisuse hindamiseks on vaadata lineaarse regressioonimudeli residuaalide (veaväärtused) ja ennustatud väärtuste suhet. Ideaalis peaksid residuaalide hajuvus olema ühtlane kõikide ennustatud väärtuste juures. Graafiku kasutamine aitab visuaalselt hinnata, kas veakvoodi eeldus on täidetud.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="mitme-tunnuse-koosanalüüs.html#cb84-1" tabindex="-1"></a><span class="fu">plot</span>(lm_model, <span class="at">which=</span><span class="dv">1</span>, <span class="at">main =</span> <span class="st">&quot;&quot;</span>) </span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-65"></span>
<img src="_main_files/figure-html/unnamed-chunk-65-1.png" alt="Jäägid vs ennustatud" width="672" />
<p class="caption">
Joonis 7.1: Jäägid vs ennustatud
</p>
</div>
<p>Lineaarse mudeli homoskedastilisuse testida, võid kasutada ka Breush-Pagan testi või White’i testi. Need testid hindavad, kas residuaalide varieeruvus on seotud sõltumatute muutujatega ning kas see varieeruvus on ühtlane.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="mitme-tunnuse-koosanalüüs.html#cb85-1" tabindex="-1"></a>lmtest<span class="sc">::</span><span class="fu">bptest</span>(lm_model)</span></code></pre></div>
<pre><code>## 
##  studentized Breusch-Pagan test
## 
## data:  lm_model
## BP = 0,55976, df = 1, p-value = 0,4544</code></pre>
<p><code>lmtest::bptest</code> testib regressioonimudeli jääkide heteroskedastsuse olemasolu. Heteroskedastsus tähendab, et jääkide varieeruvus ei ole konstantne üle kõigi sõltumatute muutujate väärtuste ning võib tekitada probleeme statistiliste hüpoteeside testimisel.</p>
<p>Testi tulemusi võib lugeda järgmiselt:</p>
<ul>
<li>Nullhüpotees (H0): jääkide varieeruvus on konstantne (st heteroskedastsust ei esine).</li>
<li>Alternatiivhüpotees (H1): jääkide varieeruvus ei ole konstantne (st heteroskedastsus esineb).</li>
</ul>
<p>Testist saadav p-väärtus aitab hinnata, kas on piisavalt tõendeid, et lükata ümber nullhüpotees heteroskedastsuse puudumise kohta. Väike p-väärtus (&lt;0,05) viitab sellele, et saame nullhüpoteesi ümber lükata ja järeldada, et heteroskedastsust esineb.</p>
</div>
<div id="jääkide-normaalsuse-test" class="section level3 hasAnchor" number="7.1.4">
<h3><span class="header-section-number">7.1.4</span> Jääkide normaalsuse test<a href="#j%C3%A4%C3%A4kide-normaalsuse-test" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Üks oluline eeldus, mida lineaarses regressioonis kasutatakse, on see, et mudeli jäägid (residuaalid) vastaksid normaaljaotusele. Normaaljaotus tähendab, et andmete jaotus on sümmeetriline ning keskmise jaotusega. Miks on oluline, et lineaarse regressiooni jäägid vastaksid normaaljaotusele?</p>
<p>Parimate tulemuste saamiseks: Kui jäägid on normaaljaotusele lähedased, siis on regressioonimudeli ennustused usaldusväärsemad ja täpsemad.</p>
<p>Statistiliste testide usaldusväärsus: Paljud statistilised testid eeldavad, et andmed vastavad normaaljaotusele. Kui jäägid ei vasta normaaljaotusele, võivad testide tulemused olla ebatäpsed või valed.</p>
<p>Mudeli hindamine: Normaaljaotuse eelduse rikkumine võib viidata sellele, et mudel ei sobi antud andmetele hästi ning on vajalik leida alternatiivseid mudeleid.</p>
<p>Väljendusrikas graafiline analüüs: Normaliseeritud jääkide graafik (residual plot) on üks viis, kuidas hinnata, kas jäägid vastavad normaaljaotusele. See graafik aitab visualiseerida, kas jäägid on juhuslikult hajutatud ümber nulli ja kas nende jaotus on ligilähedane normaaljaotusele.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="mitme-tunnuse-koosanalüüs.html#cb87-1" tabindex="-1"></a><span class="co"># Arvuta mudeli jäägid</span></span>
<span id="cb87-2"><a href="mitme-tunnuse-koosanalüüs.html#cb87-2" tabindex="-1"></a>residuals <span class="ot">&lt;-</span> <span class="fu">residuals</span>(lm_model)</span></code></pre></div>
<p>Järgmiseks loo qqplot, kasutades arvutatud residuaale:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="mitme-tunnuse-koosanalüüs.html#cb88-1" tabindex="-1"></a><span class="co"># Loome qqploti</span></span>
<span id="cb88-2"><a href="mitme-tunnuse-koosanalüüs.html#cb88-2" tabindex="-1"></a><span class="fu">qqnorm</span>(residuals)</span>
<span id="cb88-3"><a href="mitme-tunnuse-koosanalüüs.html#cb88-3" tabindex="-1"></a><span class="fu">qqline</span>(residuals)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<p>Samuti saab vaadata jääkide jagunemist tihedusfunktsiooni abil koostatud graafikul.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="mitme-tunnuse-koosanalüüs.html#cb89-1" tabindex="-1"></a><span class="co"># Jääkide jaouts</span></span>
<span id="cb89-2"><a href="mitme-tunnuse-koosanalüüs.html#cb89-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(residuals), <span class="at">main =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-69"></span>
<img src="_main_files/figure-html/unnamed-chunk-69-1.png" alt="Jääkide tihedusfunktsioon" width="672" />
<p class="caption">
Joonis 7.2: Jääkide tihedusfunktsioon
</p>
</div>
<p>Kui kõik on korrektselt tehtud, siis peaksid residuaalidest koostatud qq-ploti punktid paiknema peaaegu ideaalselt joone lähedal, mis näitab, et residuaalide jaotus on normaalne.</p>
<p>Sellise protseduuri abil saad hinnata, kui hästi sobib loodud lineaarne regressioonimudel sinu andmetele ning kas residuaalide jaotus vastab normaalsuse eeldusele.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="mitme-tunnuse-koosanalüüs.html#cb90-1" tabindex="-1"></a><span class="co"># ANOVA</span></span>
<span id="cb90-2"><a href="mitme-tunnuse-koosanalüüs.html#cb90-2" tabindex="-1"></a><span class="fu">anova</span>(lm_model)</span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: H
##           Df  Sum Sq Mean Sq F value    Pr(&gt;F)    
## D1         1 175,406 175,406  92,257 9,315e-13 ***
## Residuals 48  91,261   1,901                      
## ---
## Signif. codes:  0 &#39;***&#39; 0,001 &#39;**&#39; 0,01 &#39;*&#39; 0,05 &#39;.&#39; 0,1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="mitme-tunnuse-koosanalüüs.html#cb92-1" tabindex="-1"></a><span class="fu">confint</span>(lm_model)</span></code></pre></div>
<pre><code>##                  2,5 %    97,5 %
## (Intercept) 14,4860581 17,952339
## D1           0,2660461  0,406918</code></pre>
<p>R-is on võimalik lihtalt lisada mudelisse täiendavad tunnuseid, mis arvutakse mudeli arvutamise käigus. Järgnevas näites on lisatud täiendav tingimus, kas puuliik on mänd (I(PL == “MA”)).</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="mitme-tunnuse-koosanalüüs.html#cb94-1" tabindex="-1"></a><span class="fu">summary</span>(lm_model_pl <span class="ot">&lt;-</span> <span class="fu">lm</span>(H <span class="sc">~</span> D1<span class="sc">+</span><span class="fu">I</span>(PL <span class="sc">==</span> <span class="st">&quot;MA&quot;</span>), <span class="at">data =</span> mudelpuud))</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = H ~ D1 + I(PL == &quot;MA&quot;), data = mudelpuud)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2,2692 -0,8618 -0,1132  0,8078  3,5883 
## 
## Coefficients:
##                   Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)       15,85715    0,85115  18,630  &lt; 2e-16 ***
## D1                 0,36250    0,03609  10,046 2,76e-13 ***
## I(PL == &quot;MA&quot;)TRUE -0,93425    0,44736  -2,088   0,0422 *  
## ---
## Signif. codes:  0 &#39;***&#39; 0,001 &#39;**&#39; 0,01 &#39;*&#39; 0,05 &#39;.&#39; 0,1 &#39; &#39; 1
## 
## Residual standard error: 1,333 on 47 degrees of freedom
## Multiple R-squared:  0,6868, Adjusted R-squared:  0,6735 
## F-statistic: 51,54 on 2 and 47 DF,  p-value: 1,415e-12</code></pre>
<p>Antud juhul on näha, et mänd on teistest statistiliselt oluliselt erinev.</p>
<p>Kui aga vaadata, milline on mudelis kasutatava andmestiku esimesed read. Selles on näha, et uus arvutatud tunnus omab väärtusi TRUE ja FALSE ehk arvutamisel on need vastavalt 1 ja 0.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="mitme-tunnuse-koosanalüüs.html#cb96-1" tabindex="-1"></a><span class="fu">head</span>(lm_model_pl<span class="sc">$</span>model)</span></code></pre></div>
<pre><code>##       H   D1 I(PL == &quot;MA&quot;)
## 5  24,0 31,3          TRUE
## 7  22,8 22,4         FALSE
## 10 20,4 18,4         FALSE
## 11 25,1 23,6         FALSE
## 12 24,8 27,4          TRUE
## 14 22,3 21,7         FALSE</code></pre>
<p>Samasugust lähenemist on võimalik kasutada ka MS Exceli keskkonnas. Kui me soovime mingi tunnuse taseme kohta saada täpsemalt infot, siis tuleb esmalt luua uus tunnus väärtusega 0 või 1. Näiteks, võtame samad andmed MS Excelis ning lisame tunnuse OnMänd, mille väärtus on 1, kui antud puu on mänd, vastasel juhul on 0.</p>
<p>MS Exceli keskkonnas saab lineaarset regressiooni teha Analysis Toolpak moodulis oleva Regression protseduuriga.</p>
</div>
<div id="multikollineaarsus" class="section level3 hasAnchor" number="7.1.5">
<h3><span class="header-section-number">7.1.5</span> Multikollineaarsus<a href="mitme-tunnuse-koosanalüüs.html#multikollineaarsus" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lineaarses regressioonis tähistab multikolineaarsus olukorda, kus kaks või enam sõltumatut muutujat (selgitajat) on omavahel tugevalt seotud või korreleerunud. See tähendab, et ühe selgitaja väärtusi saab suure täpsusega ennustada teiste selgitajate väärtuste põhjal. Multikolineaarsus võib olla probleemiks, sest:</p>
<p>Mõjutab koefitsientide hinnangute täpsust: multikolineaarsus suurendab koefitsientide hinnangute varieeruvust, mis muudab need ebastabiilseks. Väiksed muudatused andmestikus võivad tuua kaasa suuri muutusi koefitsientide hinnangutes, muutes mudeli interpretatsiooni keeruliseks.</p>
<p>Raskendab muutujate tähtsuse hindamist: kõrge multikollineaarsuse korral võib olla raske kindlaks teha, milline sõltumatu muutuja mõjutab sõltuvat muutujat, sest statistilised testid ei pruugi olla usaldusväärsed. See võib viia oluliste muutujate ebaõiglase kõrvalejätmiseni või ebaoluliste muutujate mudelisse lisamiseni.</p>
<p>Vähendab mudeli interpretatsiooni selgust: kui sõltumatud muutujad on omavahel tugevalt seotud, muutub mudeli interpretatsioon keerulisemaks, kuna keeruline on eristada iga muutuja unikaalset mõju sõltuvale muutujale.</p>
<p>Multikollineaarsuse tuvastamiseks lineaarses regressioonis kasutatakse tavaliselt järgmisi meetodeid:</p>
<ul>
<li><strong>Korrelatsioonimatriks</strong>: Vaadeldakse sõltumatute muutujate vahelisi korrelatsioonikoefitsiente. Kõrge korrelatsioon näitab võimalikku multikollineaarsust.</li>
<li><strong>Variance Inflation Factor (VIF)</strong>: VIF mõõdab, kui palju muutuja variatiivsus suureneb multikollineaarsuse tõttu. Tavaliselt peetakse VIF väärtust üle 5 või 10 viitavaks tugevale multikollineaarsusele.</li>
<li><strong>Tolerants</strong>: Tolerants on VIF-i pöördväärtus ja näitab, kui suur osa muutuja variatsioonist ei ole seletatav teiste mudeli muutujatega. Madal tolerants viitab multikollineaarsusele.</li>
</ul>
<p>Multikollineaarsuse lahendamiseks võib kasutada mitmeid lähenemisviise, näiteks muutujate eemaldamist mudelist, muutujate kombineerimist või andmete transformeerimist. Samuti võib kasulikuks osutuda regulaarimismeetodite, nagu ridge regressioon või lasso regressioon, kasutamine, mis aitavad vähendada koefitsientide varieeruvust, karistades suuri koefitsiente.</p>
<p>Vaatame järgmist näidet, kus puude kõrgust ennustame mõlema diameetri alusel. Kui varasemalt oli näha, et üks diameeter on oluline, siis antud mudelid ei ole enam kumbki oluline, sest nende tunnuse vahel on korrelatsioon.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="mitme-tunnuse-koosanalüüs.html#cb98-1" tabindex="-1"></a><span class="fu">summary</span>(lm.col <span class="ot">&lt;-</span> <span class="fu">lm</span>(H <span class="sc">~</span> D1 <span class="sc">+</span> D2, <span class="at">data =</span> mudelpuud))</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = H ~ D1 + D2, data = mudelpuud)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2,7643 -0,8498 -0,1563  0,7700  3,1419 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 15,95391    0,85902  18,572   &lt;2e-16 ***
## D1          -0,05203    0,22886  -0,227   0,8211    
## D2           0,40125    0,23369   1,717   0,0926 .  
## ---
## Signif. codes:  0 &#39;***&#39; 0,001 &#39;**&#39; 0,01 &#39;*&#39; 0,05 &#39;.&#39; 0,1 &#39; &#39; 1
## 
## Residual standard error: 1,352 on 47 degrees of freedom
## Multiple R-squared:  0,678,  Adjusted R-squared:  0,6643 
## F-statistic: 49,48 on 2 and 47 DF,  p-value: 2,726e-12</code></pre>
<p>Tehes täiendavalt ANOVA, on näha, et D1, mis lineaarses regressioonis ei olnud oluline, on dispersioonanalüüsi järgi peamine varieeruvuse kirjeldaja.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="mitme-tunnuse-koosanalüüs.html#cb100-1" tabindex="-1"></a><span class="fu">anova</span>(lm.col)</span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: H
##           Df  Sum Sq Mean Sq F value    Pr(&gt;F)    
## D1         1 175,406 175,406 96,0019 6,161e-13 ***
## D2         1   5,387   5,387  2,9482   0,09255 .  
## Residuals 47  85,874   1,827                      
## ---
## Signif. codes:  0 &#39;***&#39; 0,001 &#39;**&#39; 0,01 &#39;*&#39; 0,05 &#39;.&#39; 0,1 &#39; &#39; 1</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="mitme-tunnuse-koosanalüüs.html#cb102-1" tabindex="-1"></a><span class="fu">require</span>(car)</span></code></pre></div>
<pre><code>## Loading required package: car</code></pre>
<pre><code>## Loading required package: carData</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="mitme-tunnuse-koosanalüüs.html#cb105-1" tabindex="-1"></a><span class="co"># Arvutame VIF väärtuse multikollineaarsuse tuvastamiseks</span></span>
<span id="cb105-2"><a href="mitme-tunnuse-koosanalüüs.html#cb105-2" tabindex="-1"></a><span class="fu">vif</span>(lm.col)</span></code></pre></div>
<pre><code>##       D1       D2 
## 44,41058 44,41058</code></pre>
<p>Kui VIF väärtus on üle 5, siis on tunnuste vahel tugev korrelatsioon, mida saame kontrollida ka korrelatsioonimaatriksiga.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="mitme-tunnuse-koosanalüüs.html#cb107-1" tabindex="-1"></a><span class="fu">cor</span>(puud_data[,<span class="fu">c</span>(<span class="st">&quot;D1&quot;</span>,<span class="st">&quot;D2&quot;</span>)])</span></code></pre></div>
<pre><code>##           D1        D2
## D1 1,0000000 0,9860028
## D2 0,9860028 1,0000000</code></pre>
<p>Sellest on näha, et need on tugevas korrelatsioonis (0,986). See mõjutab ka lineaarse regressiooni parameetrite arvutamist.</p>
</div>
</div>
<div id="dispersioonanalüüs" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Dispersioonanalüüs<a href="#dispersioonanal%C3%BC%C3%BCs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Mitmese regressioonanalüüsi korral on tegemist mudeliga, kus pidev funktsioontunnus avaldub pidevate argumenttunnuste lineaarkombinatsioonina. Dispersioonanalüüsi korral on tegemist mudelitega, kus funktsioontunnuseks on pidev tunnus, kuid argument-tunnused on diskreetsed (võivad olla nii arvulised kui ka mittearvulised). Dispersioon-analüüsi argumenttunnuseid nimetatakse faktoriteks. Ühefaktorilise dispersioonanalüüsi puhul uuritakse funktsioontunnuse sõltuvust ainult ühest faktorist. Faktori võimalikke väärtusi nimetatakse faktori tasemeteks.</p>
<p>Olgu üldkogum jaotatud mittelõikuvateks osadeks ehk rühmadeks faktori tasemete järgi. Öeldakse, et faktor X mõjub tunnusele Y, kui tunnuse Y keskväärtused eri rühmades on erinevad. Uurija käsutuses on valimi mõõtmisandmed, mille funktsioon-tunnuse rühmakeskmised tavaliselt erinevad. Dispersioonanalüüs on meetod, millega otsitakse vastust küsimusele, kas valimi rühma¬keskmiste erinevus on põhjustatud uuritava faktori mõjust või valimi juhuslikkusest.</p>
<p>Dispersioonanalüüsi võimalused ja vahendid sõltuvad oluliselt valitud mudelist ja katsekorraldusest. Kui iga faktortunnuse igal tasemel on tehtud ühepalju mõõtmisi, nimetatakse mudelit tasakaalustatuks, vastasel juhul on tegemist tasakaalustamata mudeliga. Kui mõõtmisi on tehtud faktori kõigil võimalikel tasemetel, siis nimetatakse seda fikseeritud faktoriks. Kui faktortunnusel on palju erinevaid väärtusi ja mõõdetud tasemeid vaadeldakse juhusliku valimina faktori võimalike tasemete hulgast, siis nimetatakse seda juhuslikuks faktoriks. Järgnevalt käsitleme ainult fikseeritud faktoritega mudeleid.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="statistilised-hinnangud.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mittelineaarne-regressioon.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"caption": {
"figure_num_sep": ".",
"table_num_sep": "."
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
