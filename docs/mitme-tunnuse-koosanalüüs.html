<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Peatükk 7 Mitme tunnuse koosanalüüs | Metsanduslik statistika R ja MS Excel keskkonnas</title>
  <meta name="description" content="Peatükk 7 Mitme tunnuse koosanalüüs | Metsanduslik statistika R ja MS Excel keskkonnas" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Peatükk 7 Mitme tunnuse koosanalüüs | Metsanduslik statistika R ja MS Excel keskkonnas" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Peatükk 7 Mitme tunnuse koosanalüüs | Metsanduslik statistika R ja MS Excel keskkonnas" />
  <meta name="github-repo" content="xyzallan/met-stat-opik" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Peatükk 7 Mitme tunnuse koosanalüüs | Metsanduslik statistika R ja MS Excel keskkonnas" />
  
  <meta name="twitter:description" content="Peatükk 7 Mitme tunnuse koosanalüüs | Metsanduslik statistika R ja MS Excel keskkonnas" />
  

<meta name="author" content="Allan Sims, Andres Kiviste, Diana Laarmann" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="statistilised-hinnangud.html"/>
<link rel="next" href="mittelineaarne-regressioon.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Sissejuhatus</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#statistikaprogramm-r"><i class="fa fa-check"></i><b>1.1</b> Statistikaprogramm R</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#r-i-paketid"><i class="fa fa-check"></i><b>1.1.1</b> R-i paketid</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#ms-excel"><i class="fa fa-check"></i><b>1.2</b> MS Excel</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="andmestik.html"><a href="andmestik.html"><i class="fa fa-check"></i><b>2</b> Andmestik</a>
<ul>
<li class="chapter" data-level="2.1" data-path="andmestik.html"><a href="andmestik.html#andmestiku-struktuur-r-keskkonnas"><i class="fa fa-check"></i><b>2.1</b> Andmestiku struktuur R keskkonnas</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="andmestik.html"><a href="andmestik.html#vektor"><i class="fa fa-check"></i><b>2.1.1</b> Vektor</a></li>
<li class="chapter" data-level="2.1.2" data-path="andmestik.html"><a href="andmestik.html#maatriks"><i class="fa fa-check"></i><b>2.1.2</b> Maatriks</a></li>
<li class="chapter" data-level="2.1.3" data-path="andmestik.html"><a href="andmestik.html#andmetabel"><i class="fa fa-check"></i><b>2.1.3</b> Andmetabel</a></li>
<li class="chapter" data-level="2.1.4" data-path="andmestik.html"><a href="andmestik.html#list"><i class="fa fa-check"></i><b>2.1.4</b> List</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="andmestik.html"><a href="andmestik.html#andmestike-importimine-r-keskkonda"><i class="fa fa-check"></i><b>2.2</b> Andmestike importimine R keskkonda</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="07-mitmetunnuse.html"><a href="#andmestike-r%C3%BChmitamine"><i class="fa fa-check"></i><b>3</b> Andmestike rühmitamine</a>
<ul>
<li class="chapter" data-level="3.1" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html"><i class="fa fa-check"></i><b>3.1</b> Jaotused</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#empiiriline-jaotus"><i class="fa fa-check"></i><b>3.1.1</b> Empiiriline jaotus</a></li>
<li class="chapter" data-level="3.1.2" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#teoreetiline-jaotus"><i class="fa fa-check"></i><b>3.1.2</b> Teoreetiline jaotus</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#histogramm"><i class="fa fa-check"></i><b>3.2</b> Histogramm</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#r-keskkonnas"><i class="fa fa-check"></i><b>3.2.1</b> R keskkonnas:</a></li>
<li class="chapter" data-level="3.2.2" data-path="andmestike-rühmitamine.html"><a href="andmestike-rühmitamine.html#exceli-keskkonnas"><i class="fa fa-check"></i><b>3.2.2</b> Exceli keskkonnas:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="karakteristikud.html"><a href="karakteristikud.html"><i class="fa fa-check"></i><b>4</b> Karakteristikud</a>
<ul>
<li class="chapter" data-level="4.1" data-path="karakteristikud.html"><a href="karakteristikud.html#keskmised"><i class="fa fa-check"></i><b>4.1</b> Keskmised</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="karakteristikud.html"><a href="karakteristikud.html#aritmeetiline-keskmine"><i class="fa fa-check"></i><b>4.1.1</b> Aritmeetiline keskmine</a></li>
<li class="chapter" data-level="4.1.2" data-path="karakteristikud.html"><a href="karakteristikud.html#ruutkeskmine"><i class="fa fa-check"></i><b>4.1.2</b> Ruutkeskmine</a></li>
<li class="chapter" data-level="4.1.3" data-path="karakteristikud.html"><a href="karakteristikud.html#geomeetriline-keskmine"><i class="fa fa-check"></i><b>4.1.3</b> Geomeetriline keskmine</a></li>
<li class="chapter" data-level="4.1.4" data-path="karakteristikud.html"><a href="karakteristikud.html#harmooniline-keskmine"><i class="fa fa-check"></i><b>4.1.4</b> Harmooniline keskmine</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="karakteristikud.html"><a href="karakteristikud.html#kvantiilid"><i class="fa fa-check"></i><b>4.2</b> Kvantiilid</a></li>
<li class="chapter" data-level="4.3" data-path="karakteristikud.html"><a href="karakteristikud.html#mediaan"><i class="fa fa-check"></i><b>4.3</b> Mediaan</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html"><i class="fa fa-check"></i><b>5</b> Jaotusfunktsioonid</a>
<ul>
<li class="chapter" data-level="5.1" data-path="07-mitmetunnuse.html"><a href="#h%C3%BCpotees"><i class="fa fa-check"></i><b>5.1</b> Hüpotees</a></li>
<li class="chapter" data-level="5.2" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#jaotusfunktsioon"><i class="fa fa-check"></i><b>5.2</b> Jaotusfunktsioon</a></li>
<li class="chapter" data-level="5.3" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#normaaljaotus"><i class="fa fa-check"></i><b>5.3</b> Normaaljaotus</a></li>
<li class="chapter" data-level="5.4" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#t-jaotus"><i class="fa fa-check"></i><b>5.4</b> T-jaotus</a></li>
<li class="chapter" data-level="5.5" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#f-jaotus"><i class="fa fa-check"></i><b>5.5</b> F-jaotus</a></li>
<li class="chapter" data-level="5.6" data-path="jaotusfunktsioonid.html"><a href="jaotusfunktsioonid.html#chi2-jaotus-hii-ruut-jaotus"><i class="fa fa-check"></i><b>5.6</b> <span class="math inline">\(\chi^2\)</span>-jaotus (hii-ruut-jaotus)</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html"><i class="fa fa-check"></i><b>6</b> Statistilised hinnangud</a>
<ul>
<li class="chapter" data-level="6.1" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#punkthinnangud"><i class="fa fa-check"></i><b>6.1</b> Punkthinnangud</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#valimi-maht"><i class="fa fa-check"></i><b>6.1.1</b> Valimi maht</a></li>
<li class="chapter" data-level="6.1.2" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#aritmeetiline-keskmine-1"><i class="fa fa-check"></i><b>6.1.2</b> Aritmeetiline keskmine</a></li>
<li class="chapter" data-level="6.1.3" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#dispersioon"><i class="fa fa-check"></i><b>6.1.3</b> Dispersioon</a></li>
<li class="chapter" data-level="6.1.4" data-path="07-mitmetunnuse.html"><a href="#standardh%C3%A4lve"><i class="fa fa-check"></i><b>6.1.4</b> Standardhälve</a></li>
<li class="chapter" data-level="6.1.5" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#standardviga"><i class="fa fa-check"></i><b>6.1.5</b> Standardviga</a></li>
<li class="chapter" data-level="6.1.6" data-path="07-mitmetunnuse.html"><a href="#katset%C3%A4psus"><i class="fa fa-check"></i><b>6.1.6</b> Katsetäpsus</a></li>
<li class="chapter" data-level="6.1.7" data-path="07-mitmetunnuse.html"><a href="#standardh%C3%A4lbe-viga"><i class="fa fa-check"></i><b>6.1.7</b> Standardhälbe viga</a></li>
<li class="chapter" data-level="6.1.8" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#dispersiooni-viga"><i class="fa fa-check"></i><b>6.1.8</b> Dispersiooni viga</a></li>
<li class="chapter" data-level="6.1.9" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#variatsioonikordaja"><i class="fa fa-check"></i><b>6.1.9</b> Variatsioonikordaja</a></li>
<li class="chapter" data-level="6.1.10" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#variatsioonikordaja-viga"><i class="fa fa-check"></i><b>6.1.10</b> Variatsioonikordaja viga</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#vahemikhinnangud"><i class="fa fa-check"></i><b>6.2</b> Vahemikhinnangud</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="07-mitmetunnuse.html"><a href="#keskv%C3%A4%C3%A4rtuse-usalduspiirid"><i class="fa fa-check"></i><b>6.2.1</b> Keskväärtuse usalduspiirid</a></li>
<li class="chapter" data-level="6.2.2" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#dispersiooni-usalduspiirid"><i class="fa fa-check"></i><b>6.2.2</b> Dispersiooni usalduspiirid</a></li>
<li class="chapter" data-level="6.2.3" data-path="07-mitmetunnuse.html"><a href="#standardh%C3%A4lbe-usalduspiirid"><i class="fa fa-check"></i><b>6.2.3</b> Standardhälbe usalduspiirid</a></li>
<li class="chapter" data-level="6.2.4" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#binoomjaotuse-parameetri-p-usalduspiirid"><i class="fa fa-check"></i><b>6.2.4</b> Binoomjaotuse parameetri p usalduspiirid</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="statistilised-hinnangud.html"><a href="statistilised-hinnangud.html#valimi-mahu-hindamine"><i class="fa fa-check"></i><b>6.3</b> Valimi mahu hindamine</a></li>
<li class="chapter" data-level="6.4" data-path="07-mitmetunnuse.html"><a href="#statistilised-h%C3%BCpoteesid"><i class="fa fa-check"></i><b>6.4</b> Statistilised hüpoteesid</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="07-mitmetunnuse.html"><a href="#f-test-normaaljaotusega-%C3%BCldkogumite-dispersioonide-v%C3%B5rdlemiseks"><i class="fa fa-check"></i><b>6.4.1</b> F-test normaaljaotusega üldkogumite dispersioonide võrdlemiseks</a></li>
<li class="chapter" data-level="6.4.2" data-path="07-mitmetunnuse.html"><a href="#keskmiste-v%C3%B5rdlemine-paarikaupa-andmete-korral-normaaljaotusega-%C3%BCldkogumist"><i class="fa fa-check"></i><b>6.4.2</b> Keskmiste võrdlemine paarikaupa andmete korral normaaljaotusega üldkogumist</a></li>
<li class="chapter" data-level="6.4.3" data-path="07-mitmetunnuse.html"><a href="#s%C3%B5ltumatuse-hii-ruut-test"><i class="fa fa-check"></i><b>6.4.3</b> Sõltumatuse hii-ruut-test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="07-mitmetunnuse.html"><a href="#mitme-tunnuse-koosanal%C3%BC%C3%BCs"><i class="fa fa-check"></i><b>7</b> Mitme tunnuse koosanalüüs</a>
<ul>
<li class="chapter" data-level="7.1" data-path="mitme-tunnuse-koosanalüüs.html"><a href="mitme-tunnuse-koosanalüüs.html"><i class="fa fa-check"></i><b>7.1</b> Lineaarne regressioon</a></li>
<li class="chapter" data-level="7.2" data-path="mitme-tunnuse-koosanalüüs.html"><a href="mitme-tunnuse-koosanalüüs.html#lineaarse-regressiooni-eelduste-selgitus"><i class="fa fa-check"></i><b>7.2</b> Lineaarse regressiooni eelduste selgitus</a></li>
<li class="chapter" data-level="7.3" data-path="mitme-tunnuse-koosanalüüs.html"><a href="mitme-tunnuse-koosanalüüs.html#lineaarne-regressioon-r-is"><i class="fa fa-check"></i><b>7.3</b> Lineaarne regressioon R-is</a></li>
<li class="chapter" data-level="7.4" data-path="mitme-tunnuse-koosanalüüs.html"><a href="mitme-tunnuse-koosanalüüs.html#lineaarne-regressioon-mitme-tunnusega"><i class="fa fa-check"></i><b>7.4</b> Lineaarne regressioon mitme tunnusega</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mittelineaarne-regressioon.html"><a href="mittelineaarne-regressioon.html"><i class="fa fa-check"></i><b>8</b> Mittelineaarne regressioon</a>
<ul>
<li class="chapter" data-level="8.1" data-path="mittelineaarne-regressioon.html"><a href="mittelineaarne-regressioon.html#mittelineaarne-regressioon-r-keskkonnas"><i class="fa fa-check"></i><b>8.1</b> Mittelineaarne regressioon R keskkonnas</a></li>
<li class="chapter" data-level="8.2" data-path="mittelineaarne-regressioon.html"><a href="mittelineaarne-regressioon.html#mittelineaarne-regressioon-ms-excel-keskkonnas"><i class="fa fa-check"></i><b>8.2</b> Mittelineaarne regressioon MS Excel keskkonnas</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="07-mitmetunnuse.html"><a href="#mitteparameetriline-anal%C3%BC%C3%BCs"><i class="fa fa-check"></i><b>9</b> Mitteparameetriline analüüs</a>
<ul>
<li class="chapter" data-level="9.1" data-path="07-mitmetunnuse.html"><a href="#%C3%BCldistatud-aditiivne-mudel"><i class="fa fa-check"></i><b>9.1</b> Üldistatud aditiivne mudel</a></li>
<li class="chapter" data-level="9.2" data-path="mitteparameetriline-analüüs.html"><a href="mitteparameetriline-analüüs.html"><i class="fa fa-check"></i><b>9.2</b> Visualiseerimine paketiga <code>ggplot2</code></a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Metsanduslik statistika R ja MS Excel keskkonnas</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mitme-tunnuse-koosanalüüs" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Peatükk 7</span> Mitme tunnuse koosanalüüs<a href="#mitme-tunnuse-koosanal%C3%BC%C3%BCs" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Mitme tunnuse koosanalüüs hõlmab mitmesuguseid statistilisi meetodeid, mille abil uuritakse, kuidas erinevad tunnused omavahel seostuvad ja üksteist mõjutavad. See analüüs on oluline, kuna reaalsetes olukordades mõjutavad uuritavat tunnust sageli mitmed tegurid korraga. Koosanalüüsi eesmärk on selgitada välja seosed tunnuste vahel, mõista nende mõju uuritavale nähtusele ja teha prognoose. Tunnuste koosanalüüs aitab minimeerida riski, et olulised seosed jäävad kahe silma vahele.</p>
<div id="lineaarne-regressioon" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Lineaarne regressioon<a href="mitme-tunnuse-koosanalüüs.html#lineaarne-regressioon" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lineaarne regressioon on statistiline meetod, mida kasutatakse lineaarse seose modelleerimiseks sõltuva muutuja (funktsioontunnuse) ja ühe või mitme sõltumatu muutuja (argumenttunnuse) vahel. Eesmärk on leida sirge (või hüpertasapind mitme muutuja puhul), mis kõige paremini kirjeldab andmepunktide hajumist. See “parim sobivus” tähendab, et leitud sirge minimeerib vertikaalsete vahemaade summat andmepunktide ja sirge vahel.</p>
<p>Lineaarse regressiooni peamine eesmärk on:</p>
<ul>
<li><strong>Ennustamine.</strong> Prognoosida sõltuva muutuja väärtust uute, seni tundmatute sõltumatute muutujate väärtuste korral.</li>
<li><strong>Seose mõistmine.</strong> Mõista ja kvantifitseerida sõltumatute muutujate mõju sõltuvale muutujale. See aitab hinnata iga sõltumatu muutuja panust ja olulisust sõltuva muutuja varieerumises.</li>
</ul>
<p>Lihtsa lineaarse regressiooni mudel (üks sõltumatu muutuja) on esitatav järgmise valemiga:</p>
<p><span class="math display">\[y_i = \beta_0 + \beta_1 x_i + \epsilon_i\]</span></p>
<p>kus:</p>
<ul>
<li><span class="math inline">\(y_i\)</span> on <span class="math inline">\(i\)</span>-nda vaatluse sõltuv muutuja väärtus.</li>
<li><span class="math inline">\(x_i\)</span> on <span class="math inline">\(i\)</span>-nda vaatluse sõltumatu muutuja väärtus.</li>
<li><span class="math inline">\(\beta_0\)</span> on regressioonisirge lõikepunkt (konstantne termin). See on <span class="math inline">\(y\)</span> väärtus, kui <span class="math inline">\(x = 0\)</span>.</li>
<li><span class="math inline">\(\beta_1\)</span> on regressioonisirge kalle (koefitsient). See näitab, kui palju sõltuv muutuja <span class="math inline">\(y\)</span> muutub, kui sõltumatu muutuja <span class="math inline">\(x\)</span> suureneb ühe ühiku võrra.</li>
<li><span class="math inline">\(\epsilon_i\)</span> on veatermin, mis esindab kõiki muid faktoreid, mis mõjutavad <span class="math inline">\(y_i\)</span>, kuid mida mudelis ei arvestata. Eeldatakse, et veaterminid on juhuslikud, keskmise väärtusega null ja konstantse dispersiooniga.</li>
</ul>
<p>Mitme lineaarse regressiooni mudel (mitu sõltumatut muutujat) on üldistus ülaltoodud mudelist:</p>
<p><span class="math display">\[y_i = \beta_0 + \beta_1 x_{1i} + \beta_2 x_{2i} + ... + \beta_p x_{pi} + \epsilon_i\]</span></p>
<p>kus:</p>
<ul>
<li><span class="math inline">\(x_{ji}\)</span> on <span class="math inline">\(i\)</span>-nda vaatluse <span class="math inline">\(j\)</span>-nda sõltumatu muutuja väärtus (kus <span class="math inline">\(j=1, 2, ..., p\)</span> ja <span class="math inline">\(p\)</span> on sõltumatute muutujate arv).</li>
<li><span class="math inline">\(\beta_j\)</span> on <span class="math inline">\(j\)</span>-nda sõltumatu muutuja regressioonikoefitsient. See näitab, kui palju sõltuv muutuja <span class="math inline">\(y\)</span> muutub, kui <span class="math inline">\(j\)</span>-s sõltumatu muutuja <span class="math inline">\(x_j\)</span> suureneb ühe ühiku võrra, eeldusel, et kõik teised sõltumatud muutujad jäävad konstantseks (ceteris paribus).</li>
<li><span class="math inline">\(\beta_0\)</span> on lõikepunkt.</li>
<li><span class="math inline">\(\epsilon_i\)</span> on veatermin.</li>
</ul>
<p>Lineaarne regressioon arvutatakse tavaliselt <strong>vähimruutude meetodit</strong> (Ordinary Least Squares - OLS) kasutades. Vähimruutude meetodi eesmärk on minimeerida hälvete ruutude summat (RSS - Residual Sum of Squares) ehk ennustatud väärtuste ja tegelike väärtuste vahe ruutude summat.</p>
<p>RSS valem on:</p>
<p><span class="math display">\[RSS = \sum_{i=1}^{n} (y_i - \hat{y}_i)^2 = \sum_{i=1}^{n} (y_i - (\beta_0 + \beta_1 x_{1i} + ... + \beta_p x_{pi}))^2\]</span></p>
<p>kus:</p>
<ul>
<li><span class="math inline">\(n\)</span> on vaatluste arv.</li>
<li><span class="math inline">\(\hat{y}_i = \beta_0 + \beta_1 x_{1i} + ... + \beta_p x_{pi}\)</span> on mudeli poolt ennustatud <span class="math inline">\(y_i\)</span> väärtus.</li>
</ul>
<p>Vähimruutude meetodi kasutamiseks tuleb leida sellised <span class="math inline">\(\beta_0, \beta_1, ..., \beta_p\)</span> väärtused, mis minimeerivad RSS. See saavutatakse osatuletiste võtmisega RSS-ist iga <span class="math inline">\(\beta_j\)</span> suhtes ja nende tuletiste nulliga võrdumise seadmisega. See annab <strong>normaalvõrrandite süsteemi</strong>.</p>
<p>Maatriksvormis saab lineaarset regressioonimudelit ja vähimruutude lahendust esitada elegantselt. Olgu <strong>Y</strong> vektor sõltuvatest muutujatest, <strong>X</strong> disainmaatriks (mis sisaldab sõltumatuid muutujaid ja konstantsammast ühtedest lõikepunkti jaoks) ja <strong><span class="math inline">\(\beta\)</span></strong> koefitsientide vektor. Mudel on:</p>
<p><span class="math display">\[\mathbf{Y} = \mathbf{X}\boldsymbol{\beta} + \boldsymbol{\epsilon}\]</span></p>
<p>kus:</p>
<ul>
<li><span class="math inline">\(\mathbf{Y} = \begin{bmatrix} y_1 \\ y_2 \\ \vdots \\ y_n \end{bmatrix}\)</span> on <span class="math inline">\(n \times 1\)</span> vektor sõltuvate muutujate vaatlustest.</li>
<li><span class="math inline">\(\mathbf{X} = \begin{bmatrix} 1 &amp; x_{11} &amp; x_{21} &amp; \cdots &amp; x_{p1} \\ 1 &amp; x_{12} &amp; x_{22} &amp; \cdots &amp; x_{p2} \\ \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ 1 &amp; x_{1n} &amp; x_{2n} &amp; \cdots &amp; x_{pn} \end{bmatrix}\)</span> on <span class="math inline">\(n \times (p+1)\)</span> disainmaatriks. Esimene veerg on ühtedest lõikepunkti jaoks, ja järgmised veerud on sõltumatute muutujate vaatlused.</li>
<li><span class="math inline">\(\boldsymbol{\beta} = \begin{bmatrix} \beta_0 \\ \beta_1 \\ \vdots \\ \beta_p \end{bmatrix}\)</span> on <span class="math inline">\((p+1) \times 1\)</span> vektor regressioonikoefitsientidest.</li>
<li><span class="math inline">\(\boldsymbol{\epsilon} = \begin{bmatrix} \epsilon_1 \\ \epsilon_2 \\ \vdots \\ \epsilon_n \end{bmatrix}\)</span> on <span class="math inline">\(n \times 1\)</span> vektor veaterminitest.</li>
</ul>
<p>Vähimruutude lahendus koefitsientide vektorile <span class="math inline">\(\boldsymbol{\hat{\beta}}\)</span> on antud järgmise valemiga:</p>
<p><span class="math display">\[\boldsymbol{\hat{\beta}} = (\mathbf{X}^T\mathbf{X})^{-1}\mathbf{X}^T\mathbf{Y}\]</span></p>
<p>Eeldusel, et <span class="math inline">\((\mathbf{X}^T\mathbf{X})\)</span> on pööratav. See on peamine valem regressioonikoefitsientide arvutamiseks.</p>
<p>Pärast regressioonimudeli arvutamist on oluline hinnata selle sobivust ja statistilist olulisust. Peamised teststatistikud ja hindamise meetodid on järgmised:</p>
<ol style="list-style-type: decimal">
<li><p><strong><span class="math inline">\(R^2\)</span> ja kohandatud <span class="math inline">\(R^2\)</span>:</strong></p>
<ul>
<li><strong><span class="math inline">\(R^2\)</span> (determinatsioonikordaja).</strong> Mõõdab, kui suure osa sõltuva muutuja varieeruvusest suudab regressioonimudel seletada. <span class="math inline">\(R^2\)</span> väärtused jäävad vahemikku 0 kuni 1. Mida lähemal on <span class="math inline">\(R^2\)</span> väärtusele 1, seda paremini mudel andmeid sobitab.</li>
<li>Valem <span class="math inline">\(R^2\)</span> arvutamiseks:
<span class="math display">\[R^2 = 1 - \frac{RSS}{TSS} = 1 - \frac{\sum_{i=1}^{n} (y_i - \hat{y}_i)^2}{\sum_{i=1}^{n} (y_i - \bar{y})^2}\]</span>
kus <span class="math inline">\(TSS\)</span> on hälvete ruutude summa (Total Sum of Squares) ja <span class="math inline">\(\bar{y}\)</span> on sõltuva muutuja keskmine väärtus.</li>
<li><strong>Kohandatud <span class="math inline">\(R^2\)</span>.</strong> Parandab <span class="math inline">\(R^2\)</span> puudust, mis alati suureneb sõltumatute muutujate arvu lisandumisel, isegi kui need muutujad ei ole olulised. Kohandatud <span class="math inline">\(R^2\)</span> karistab mudelit ebavajalike muutujate lisamise eest.</li>
<li>Valem kohandatud <span class="math inline">\(R^2\)</span> arvutamiseks:
<span class="math display">\[\text{Kohandatud } R^2 = 1 - \frac{(1-R^2)(n-1)}{n-p-1}\]</span>
kus <span class="math inline">\(n\)</span> on vaatluste arv ja <span class="math inline">\(p\)</span> on sõltumatute muutujate arv mudelis (ilma lõikepunktita).</li>
</ul></li>
<li><p><strong>RMSE (ruutkeskmine viga):</strong></p>
<ul>
<li>RMSE mõõdab mudeli ennustusvigade standardhälvet. See annab aimu, kui suur on tüüpiline erinevus ennustatud ja tegelike väärtuste vahel. Madalam RMSE näitab paremat mudeli ennustustäpsust.</li>
<li>Valem RMSE arvutamiseks:
<span class="math display">\[RMSE = \sqrt{\frac{RSS}{n}} = \sqrt{\frac{\sum_{i=1}^{n} (y_i - \hat{y}_i)^2}{n}}\]</span></li>
</ul></li>
<li><p><strong>Koefitsientide statistiline olulisus (t-test):</strong></p>
<ul>
<li>Iga regressioonikoefitsiendi <span class="math inline">\(\beta_j\)</span> (välja arvatud <span class="math inline">\(\beta_0\)</span>) puhul saab testida nullhüpoteesi <span class="math inline">\(H_0: \beta_j = 0\)</span>, mis tähendab, et <span class="math inline">\(j\)</span>-ndal sõltumatul muutujal puudub seos sõltuva muutujaga (kui kõik teised muutujad on konstantsed).</li>
<li>T-testi statistiku arvutamine koefitsiendi <span class="math inline">\(\beta_j\)</span> jaoks:
<span class="math display">\[t = \frac{\hat{\beta}_j}{SE(\hat{\beta}_j)}\]</span>
kus <span class="math inline">\(SE(\hat{\beta}_j)\)</span> on <span class="math inline">\(\hat{\beta}_j\)</span> standardviga. Standardvea saab arvutada mudeli veaterminite dispersiooni ja disainmaatriksi <span class="math inline">\(\mathbf{X}\)</span> põhjal.</li>
<li>Saadud t-statistikut võrreldakse t-jaotuse kriitiliste väärtustega (või arvutatakse p-väärtus), et otsustada nullhüpoteesi tagasilükkamine. Madal p-väärtus (tavaliselt alla 0.05) viitab, et koefitsient on statistiliselt oluline ja sõltumatu muutuja avaldab olulist mõju sõltuvale muutujale.</li>
</ul></li>
<li><p><strong>Mudeli üldine olulisus (F-test):</strong></p>
<ul>
<li>F-test testib nullhüpoteesi, et kõik regressioonikoefitsiendid (välja arvatud <span class="math inline">\(\beta_0\)</span>) on samaaegselt null <span class="math inline">\(H_0: \beta_1 = \beta_2 = ... = \beta_p = 0\)</span>. See test hindab, kas mudel tervikuna on statistiliselt oluline ja kas on vähemalt üks sõltumatu muutuja, mis aitab sõltuva muutuja varieeruvust seletada.</li>
<li>F-statistiku arvutamine:
<span class="math display">\[F = \frac{MSS}{MSE} = \frac{RSS_{null} - RSS_{mudel}}{RSS_{mudel}} \times \frac{n-p-1}{p}\]</span>
kus <span class="math inline">\(MSS\)</span> on mudeli ruutude keskmine summa (Model Sum of Squares), <span class="math inline">\(MSE\)</span> on vigade ruutude keskmine summa (Mean Squared Error), <span class="math inline">\(RSS_{null}\)</span> on RSS mudeli korral, mis sisaldab ainult lõikepunkti (nullmudel), ja <span class="math inline">\(RSS_{mudel}\)</span> on RSS uuritava mudeli korral.</li>
<li>F-statistikut võrreldakse F-jaotuse kriitiliste väärtustega (või arvutatakse p-väärtus), et otsustada nullhüpoteesi tagasilükkamine. Madal p-väärtus (tavaliselt alla 0.05) viitab, et mudel on statistiliselt oluline.</li>
</ul></li>
</ol>
</div>
<div id="lineaarse-regressiooni-eelduste-selgitus" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Lineaarse regressiooni eelduste selgitus<a href="mitme-tunnuse-koosanalüüs.html#lineaarse-regressiooni-eelduste-selgitus" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lineaarse regressiooni rakendamine on võimas meetod seoste modelleerimiseks, kuid selle tulemuste usaldusväärsus sõltub teatud eelduste täitmisest. Need eeldused tagavad, et vähimruutude meetod annab parimad võimalikud ja usaldusväärsed hinnangud regressioonikoefitsientidele ja mudeli statistilisele olulisusele. Vaatame neid eeldusi ükshaaval põhjalikumalt:</p>
<ul>
<li><p><strong>Lineaarsus:</strong> Eeldatakse, et sõltuva muutuja ja sõltumatute muutujate vaheline seos on lineaarne. See tähendab, et sõltuva muutuja muutuse ennustatakse iga sõltumatu muutuja ühiku muutuse kohta konstantse suurusega.</p>
<ul>
<li><strong>Mida see tähendab:</strong> Graafiliselt kujutades peaks andmepunktide hajumine järgima sirget joont (lihtsa lineaarse regressiooni puhul) või hüpertasapinda (mitmese lineaarse regressiooni puhul). Formaalselt öeldes tähendab see, et oodatav väärtus sõltuvale muutujale on lineaarne funktsioon sõltumatutest muutujatest.</li>
<li><strong>Miks see oluline on:</strong> Kui tegelik seos ei ole lineaarne, siis lineaarse regressiooni mudel ei suuda seost adekvaatselt kirjeldada. Lineaarne mudel võib anda eksitavaid ennustusi ja valed järeldused muutujate seoste kohta.</li>
<li><strong>Kuidas kontrollida:</strong>
<ul>
<li><strong>Hajuvusdiagrammid:</strong> Sõltuva muutuja hajuvusdiagrammi joonistamine iga sõltumatu muutuja suhtes aitab visuaalselt hinnata lineaarsust.</li>
<li><strong>Jääkide diagrammid:</strong> Jääkide (tegelike ja ennustatud väärtuste vahe) diagrammi joonistamine ennustatud väärtuste või sõltumatute muutujate suhtes. Lineaarsuse korral peaks jääkide hajumine olema juhuslikult jaotunud nulljoone ümber, ilma süstemaatilise mustrita. Mitte-lineaarsuse korral võib diagrammil näha kõveraid mustreid.</li>
</ul></li>
<li><strong>Mis juhtub, kui eeldus on rikutud:</strong> Lineaarne mudel võib anda halbu ennustusi ja valed järeldused.</li>
<li><strong>Mida teha:</strong>
<ul>
<li><strong>Muutujate transformeerimine:</strong> Sõltuva ja/või sõltumatute muutujate transformeerimine (näiteks logaritm, ruutjuur, ruut) võib mõnikord muuta mittelineaarse seose lineaarseks.</li>
<li><strong>Polünoomiline regressioon:</strong> Lineaarse mudeli asemel võib kasutada polünoomilist regressiooni, mis võimaldab modelleerida mittelineaarseid seoseid polünoomide abil.</li>
<li><strong>Mittelineaarne regressioon:</strong> Kui seos on teadaolevalt mittelineaarne ja transformatsioonid ei aita, võib kasutada mittelineaarset regressiooni meetodit, mis on spetsiifiliselt loodud mittelineaarsete seoste modelleerimiseks.</li>
</ul></li>
</ul></li>
<li><p><strong>Sõltumatus:</strong> Iga vaatlus peab olema sõltumatu teistest vaatlustest. See tähendab, et ühe vaatluse väärtus ei tohiks olla mõjutatud teiste vaatluste väärtustest.</p>
<ul>
<li><strong>Mida see tähendab:</strong> Iga andmepunkt peaks olema kogutud või genereeritud sõltumatult teistest andmepunktidest. Näiteks, kui me uurime individuaalsete inimeste andmeid, eeldame, et ühe inimese andmed ei mõjuta teise inimese andmeid.</li>
<li><strong>Miks see oluline on:</strong> Sõltumatuse eeldus on oluline standardvigade korrektseks hindamiseks ja seega ka statistilise olulisuse testide ja usaldusvahemike usaldusväärsuseks. Kui vaatlused on sõltuvad, siis standardvead võivad olla alahinnatud, mis viib valejäreldusteni statistilise olulisuse kohta (mudel näib statistiliselt olulisem kui see tegelikult on).</li>
<li><strong>Kuidas kontrollida:</strong>
<ul>
<li><strong>Andmete kogumise protsessi mõistmine:</strong> Hoolikalt tuleb kaaluda, kuidas andmed on kogutud. Kas on potentsiaalseid sõltuvuse allikaid? Näiteks aja-reas andmetes (andmed, mis on kogutud aja jooksul järjestikku) on sageli sõltuvus, kus eilne väärtus võib mõjutada tänast väärtust. Samuti võib sõltuvust esineda klasterandmetes (näiteks õpilased klassides, patsiendid arstides), kus grupis olevad vaatlused võivad olla sarnasemad kui grupidest väljaspool olevad vaatlused.</li>
<li><strong>Durbin-Watson test (aja-rea andmete korral):</strong> Durbin-Watson test on spetsiifiliselt loodud autokorrelatsiooni (sõltuvuse) tuvastamiseks jääkides aja-rea andmetes.</li>
</ul></li>
<li><strong>Mis juhtub, kui eeldus on rikutud:</strong> Standardvead on ebatäpsed, mis teeb statistilised testid ja usaldusvahemikud ebausaldusväärseks.</li>
<li><strong>Mida teha:</strong>
<ul>
<li><strong>Aja-rea mudelid:</strong> Kui tegemist on aja-rea andmetega ja sõltuvus on autokorrelatsioon, võib kasutada aja-rea mudelite (näiteks ARIMA mudelid) asemel lineaarselt regressiooni.</li>
<li><strong>Segamõjudega mudelid (klasterandmete korral):</strong> Kui tegemist on klasterandmetega, võib kasutada segamõjudega mudeleid (mixed-effects models), mis võtavad arvesse grupisisese sõltuvuse.</li>
<li><strong>Robustsed standardvead:</strong> Teatud juhtudel, kui sõltuvust ei saa täielikult modelleerida, saab kasutada robustseid standardvigu (näiteks Huber-White standardvead), mis on vähem tundlikud sõltuvuse suhtes (kuigi need ei lahenda probleemi täielikult).</li>
</ul></li>
</ul></li>
<li><p><strong>Homoskedastilisus:</strong> Jääkide dispersioon (variatsioon) peaks olema konstantne kõigi sõltumatute muutujate väärtuste korral. See tähendab, et jääkide “hajuvus” peaks olema ühtlane kogu regressioonisirge pikkuses. Heteroskedastilisus on homoskedastilisuse vastand ja tähendab, et jääkide dispersioon ei ole konstantne, vaid muutub sõltuvalt sõltumatute muutujate väärtustest.</p>
<ul>
<li><strong>Mida see tähendab:</strong> Jääkide hajumisdiagrammil ennustatud väärtuste või sõltumatute muutujate suhtes peaks jääkide punktide “laius” olema enam-vähem sama kogu ulatuses.</li>
<li><strong>Miks see oluline on:</strong> Homoskedastilisus on oluline vähimruutude meetodi efektiivsuse tagamiseks. Kuigi vähimruutude meetod annab ikka erapooletud hinnangud koefitsientidele ka heteroskedastilisuse korral, on hinnangud ebaefektiivsed (neil on suurem dispersioon kui vaja oleks) ja standardvead on jälle ebatäpsed, mis mõjutab statistiliste testide ja usaldusvahemike usaldusväärsust.</li>
<li><strong>Kuidas kontrollida:</strong>
<ul>
<li><strong>Jääkide hajumisdiagrammid:</strong> Jääkide diagrammi joonistamine ennustatud väärtuste või iga sõltumatu muutuja suhtes. Homoskedastilisuse korral peaks jääkide hajumine olema juhuslik ja ühtlane riba ümber nulljoone. Heteroskedastilisuse korral võib diagrammil näha mustreid, näiteks jääkide “laiuse” suurenemine või vähenemine koos ennustatud väärtuste või sõltumatu muutuja väärtustega (näiteks “lehviku” kuju).</li>
<li><strong>Breusch-Pagan test ja White’i test:</strong> Need on formaalsed statistilised testid heteroskedastilisuse testimiseks. Need testid hindavad, kas jääkide ruudud on seotud sõltumatute muutujate või nende ruutudega.</li>
</ul></li>
<li><strong>Mis juhtub, kui eeldus on rikutud:</strong> Vähimruutude hinnangud on ebaefektiivsed ja standardvead on ebatäpsed.</li>
<li><strong>Mida teha:</strong>
<ul>
<li><strong>Muutujate transformeerimine:</strong> Sõltuva muutuja transformeerimine (näiteks logaritm, ruutjuur) võib mõnikord vähendada heteroskedastilisust, eriti kui heteroskedastilisus on seotud sõltuva muutuja tasemega.</li>
<li><strong>Robustsed standardvead:</strong> Nagu sõltumatuse puhul, saab ka heteroskedastilisuse korral kasutada robustseid standardvigu (näiteks Huber-White standardvead). Need annavad usaldusväärsemad standardvead ja seega ka usaldusväärsemad statistilised testid ja usaldusvahemikud, isegi kui heteroskedastilisus on olemas.</li>
<li><strong>Kaalutud vähimruudud (Weighted Least Squares - WLS):</strong> WLS meetod on spetsiifiliselt loodud heteroskedastilisuse probleemi lahendamiseks. See meetod annab suuremad kaalud vaatlustele, millel on väiksem jääkide dispersioon, ja väiksemad kaalud vaatlustele, millel on suurem jääkide dispersioon, et “ühtlustada” variatsiooni.</li>
</ul></li>
</ul></li>
<li><p><strong>Normaaljaotus:</strong> Jäägid peaksid olema ligikaudselt normaaljaotusega. See eeldus kehtib eelkõige statistiliste testide ja usaldusvahemike usaldusväärsuse jaoks, eriti väikeste valimite korral. Suurte valimite korral, tänu keskväärtusteoreemile, on regressioonikoefitsientide hinnangud ligikaudu normaalselt jaotunud isegi siis, kui jäägid ei ole täpselt normaalselt jaotunud (kuid siiski peaksid olema homoskedastilised ja sõltumatud).</p>
<ul>
<li><strong>Mida see tähendab:</strong> Jääkide histogramm peaks meenutama kellakujulist normaaljaotust. Jääkide teoreetiline jaotus peaks olema normaalne.</li>
<li><strong>Miks see oluline on:</strong> Normaaljaotuse eeldus on oluline, et kasutada t-teste koefitsientide statistilise olulisuse testimiseks ja F-testi mudeli üldise olulisuse testimiseks, eriti väikeste valimite korral. Kui jäägid on normaalselt jaotunud, siis koefitsientide hinnangud on ka normaalselt jaotunud ja teststatistikud järgivad t- ja F-jaotusi vastavalt. Kui jäägid ei ole normaalselt jaotunud (eriti kui valim on väike), siis võivad testide p-väärtused ja usaldusvahemikud olla ebatäpsed.</li>
<li><strong>Kuidas kontrollida:</strong>
<ul>
<li><strong>Histogramm ja tihedusdiagramm:</strong> Jääkide histogrammi ja tihedusdiagrammi joonistamine aitab visuaalselt hinnata, kas jäägid on ligikaudu normaalselt jaotunud.</li>
<li><strong>Normaalsuse Q-Q diagramm (Quantile-Quantile plot):</strong> Q-Q diagramm võrdleb jääkide kvantiile teoreetilise normaaljaotuse kvantiilidega. Kui jäägid on normaalselt jaotunud, peaksid punktid Q-Q diagrammil paiknema ligikaudu sirgel joonel.</li>
<li><strong>Formaalsed normaalsuse testid:</strong> Näiteks Shapiro-Wilk test, Kolmogorov-Smirnov test, Jarque-Bera test. Need testid annavad statistilise p-väärtuse, mis hindab, kas jäägid erinevad oluliselt normaaljaotusest.</li>
</ul></li>
<li><strong>Mis juhtub, kui eeldus on rikutud:</strong> Väikeste valimite korral võivad t-testid ja F-testid olla ebausaldusväärsed. Suurte valimite korral on lineaarsed regressioonitulemused sageli robustsed normaalsuse rikkumise suhtes (tänu keskväärtusteoreemile).</li>
<li><strong>Mida teha:</strong>
<ul>
<li><strong>Muutujate transformeerimine:</strong> Sõltuva muutuja transformeerimine võib mõnikord muuta jääkide jaotust normaalsemaks.</li>
<li><strong>Mitteparameetrilised meetodid:</strong> Kui normaalsuse rikkumine on tõsine ja valim on väike, võib kaaluda mitteparameetriliste regressioonimeetodite kasutamist, mis ei eelda normaaljaotust (kuid need meetodid võivad olla vähem võimsad kui lineaarne regressioon, kui eeldused on täidetud).</li>
<li><strong>Suur valim:</strong> Suurte valimite korral on lineaarne regressioon suhteliselt robustne normaalsuse rikkumise suhtes. Kui valim on piisavalt suur, ei pruugi normaalsuse eeldus olla nii kriitiline.</li>
</ul></li>
</ul></li>
<li><p><strong>Multikollineaarsuse puudumine:</strong> Sõltumatud tunnused (argumenttunnused) ei tohiks omavahel tugevalt korreleeruda. Multikollineaarsus tekib siis, kui kaks või enam sõltumatut muutujat on omavahel tugevalt lineaarselt seotud.</p>
<ul>
<li><strong>Mida see tähendab:</strong> See tähendab, et sõltumatud muutujad ei tohiks olla üksteise ennustajad. Näiteks, kui me modelleerime palku haridustaseme ja töökogemuse põhjal, võib multikollineaarsus tekkida, kui haridustase ja töökogemus on tugevalt korreleeritud (kõrgema haridusega inimestel on tavaliselt rohkem töökogemust).</li>
<li><strong>Miks see oluline on:</strong> Multikollineaarsus ei mõjuta mudeli ennustusvõimet tervikuna, kuid see teeb üksikute sõltumatute muutujate mõju eristamise raskeks ja ebastabiilseks. Regressioonikoefitsiendid muutuvad ebatäpseks (suured standardvead) ja ebastabiilseks (väikesed muutused andmetes võivad põhjustada suuri muutusi koefitsientides). Samuti võib see muuta koefitsientide märke ootamatuks.</li>
<li><strong>Kuidas kontrollida:</strong>
<ul>
<li><strong>Korrelatsioonimaatriks:</strong> Sõltumatute muutujate vahelise korrelatsioonimaatriksi arvutamine ja korrelatsioonikordajate (eriti Pearsoni korrelatsioonikordajate) vaatamine. Kõrged korrelatsioonikordajad (näiteks absoluutväärtus üle 0.7 või 0.8) võivad viidata multikollineaarsusele.</li>
<li><strong>VIF (Variance Inflation Factor - dispersiooni paisutustegur):</strong> VIF arvutatakse iga sõltumatu muutuja jaoks. See mõõdab, kui palju iga muutuja standardviga on paisunud multikollineaarsuse tõttu. Kõrged VIF väärtused (tavaliselt üle 5 või 10) viitavad multikollineaarsusele.</li>
</ul></li>
<li><strong>Mis juhtub, kui eeldus on rikutud:</strong> Regressioonikoefitsiendid on ebastabiilsed ja raskesti interpreteeritavad, standardvead paisuvad, mis teeb statistilised testid vähem võimsaks. Kuigi mudeli ennustusvõime tervikuna ei pruugi kannatada, on üksikute muutujate mõju raske hinnata.</li>
<li><strong>Mida teha:</strong>
<ul>
<li><strong>Muutujate eemaldamine:</strong> Kui multikollineaarsus on probleemiks, võib eemaldada mudelist ühe või mitu omavahel korreleeruvat muutujat. Tuleb valida, millised muutujad on teoreetiliselt või praktiliselt vähem olulised või redundantsed.</li>
<li><strong>Muutujate kombineerimine:</strong> Korreleeritud muutujad võib kombineerida üheks uueks muutujaks (näiteks summeerida või arvutada keskmist).</li>
<li><strong>PCA (Principal Component Analysis - peamiste komponentide analüüs) või PLS (Partial Least Squares - osalised vähimruudud) regressioon:</strong> Need meetodid on spetsiifiliselt loodud multikollineaarsuse probleemi lahendamiseks. PCA regressioon teisendab algsed muutujad uuteks, ortogonaalseteks (mitte-korreleeritud) komponentideks ja kasutab neid regressioonis. PLS regressioon on eriti kasulik, kui on palju sõltumatuid muutujaid ja multikollineaarsus on tugev.</li>
<li><strong>Regulariseerimine (näiteks Ridge regressioon või Lasso regressioon):</strong> Regulariseerimise meetodid aitavad vähendada multikollineaarsuse mõju, “kahandades” koefitsiente ja vähendades nende dispersiooni (kuigi nad võivad ka koefitsientide hinnanguid “biaseerida”).</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="lineaarne-regressioon-r-is" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Lineaarne regressioon R-is<a href="mitme-tunnuse-koosanalüüs.html#lineaarne-regressioon-r-is" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="mitme-tunnuse-koosanalüüs.html#cb57-1" tabindex="-1"></a><span class="co"># Laadi alla &#39;readxl&#39; pakett, et lugeda Exceli faili</span></span>
<span id="cb57-2"><a href="mitme-tunnuse-koosanalüüs.html#cb57-2" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb57-3"><a href="mitme-tunnuse-koosanalüüs.html#cb57-3" tabindex="-1"></a></span>
<span id="cb57-4"><a href="mitme-tunnuse-koosanalüüs.html#cb57-4" tabindex="-1"></a><span class="co"># Loe andmed Exceli failist ja konkreetselt töölehelt</span></span>
<span id="cb57-5"><a href="mitme-tunnuse-koosanalüüs.html#cb57-5" tabindex="-1"></a>andmed <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data/naited.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="st">&quot;MA&quot;</span>)</span>
<span id="cb57-6"><a href="mitme-tunnuse-koosanalüüs.html#cb57-6" tabindex="-1"></a></span>
<span id="cb57-7"><a href="mitme-tunnuse-koosanalüüs.html#cb57-7" tabindex="-1"></a><span class="co"># Vaata, kuidas andmed välja näevad ja kontrolli veergude nimesid</span></span>
<span id="cb57-8"><a href="mitme-tunnuse-koosanalüüs.html#cb57-8" tabindex="-1"></a><span class="fu">head</span>(andmed)</span></code></pre></div>
<pre><code># A tibble: 6 × 6
     NR     D     H    HV    VP   SHV
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1    10   9.7  12.2   7.1   5.1  0.58
2    20  10.2  11.1   7.5   3.6  0.68
3    30   6.3   9.9   7     2.9  0.71
4    40   7.4  11     7.5   3.5  0.68
5    50   5.6   8.8   6.8   2    0.77
6    60   5.6  10.6   7.2   3.4  0.68</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="mitme-tunnuse-koosanalüüs.html#cb59-1" tabindex="-1"></a><span class="co"># Lineaarse regressiooni mudeli loomine</span></span>
<span id="cb59-2"><a href="mitme-tunnuse-koosanalüüs.html#cb59-2" tabindex="-1"></a><span class="co"># Valem H = f(D) tähendab, et H on sõltuv muutuja ja D on sõltumatu muutuja.</span></span>
<span id="cb59-3"><a href="mitme-tunnuse-koosanalüüs.html#cb59-3" tabindex="-1"></a><span class="co"># R-is tähistatakse seda valemit kujul H ~ D</span></span>
<span id="cb59-4"><a href="mitme-tunnuse-koosanalüüs.html#cb59-4" tabindex="-1"></a>lm_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(H <span class="sc">~</span> D, <span class="at">data =</span> andmed)</span>
<span id="cb59-5"><a href="mitme-tunnuse-koosanalüüs.html#cb59-5" tabindex="-1"></a></span>
<span id="cb59-6"><a href="mitme-tunnuse-koosanalüüs.html#cb59-6" tabindex="-1"></a><span class="co"># Mudeli kokkuvõtte kuvamine</span></span>
<span id="cb59-7"><a href="mitme-tunnuse-koosanalüüs.html#cb59-7" tabindex="-1"></a><span class="fu">summary</span>(lm_1)</span></code></pre></div>
<pre><code>
Call:
lm(formula = H ~ D, data = andmed)

Residuals:
    Min      1Q  Median      3Q     Max 
-2,1190 -0,6362 -0,0361  0,9079  1,9273 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)   5,6036     0,5427   10,32  1,0e-11
D             0,5481     0,0652    8,41  1,3e-09

Residual standard error: 1,15 on 32 degrees of freedom
Multiple R-squared:  0,688, Adjusted R-squared:  0,679 
F-statistic: 70,7 on 1 and 32 DF,  p-value: 1,32e-09</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="mitme-tunnuse-koosanalüüs.html#cb61-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb61-2"><a href="mitme-tunnuse-koosanalüüs.html#cb61-2" tabindex="-1"></a><span class="co"># Joonista punktgraafik koos regressioonisirgega</span></span>
<span id="cb61-3"><a href="mitme-tunnuse-koosanalüüs.html#cb61-3" tabindex="-1"></a><span class="fu">ggplot</span>(andmed, <span class="fu">aes</span>(<span class="at">x =</span> D, <span class="at">y =</span> H)) <span class="sc">+</span></span>
<span id="cb61-4"><a href="mitme-tunnuse-koosanalüüs.html#cb61-4" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># Lisa punktid andmete jaoks</span></span>
<span id="cb61-5"><a href="mitme-tunnuse-koosanalüüs.html#cb61-5" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb61-6"><a href="mitme-tunnuse-koosanalüüs.html#cb61-6" tabindex="-1"></a>    <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">20</span>) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">20</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-47"></span>
<img src="_main_files/figure-html/unnamed-chunk-47-1.png" alt="Hajuvusdiagramm" width="80%" />
<p class="caption">
Joonis 7.1: Hajuvusdiagramm
</p>
</div>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="mitme-tunnuse-koosanalüüs.html#cb62-1" tabindex="-1"></a><span class="co"># Lineaarse regressiooni mudeli loomine</span></span>
<span id="cb62-2"><a href="mitme-tunnuse-koosanalüüs.html#cb62-2" tabindex="-1"></a><span class="co"># R-is tähistatakse seda valemit kujul H ~ log(D)</span></span>
<span id="cb62-3"><a href="mitme-tunnuse-koosanalüüs.html#cb62-3" tabindex="-1"></a><span class="fu">summary</span>(lm_2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(H <span class="sc">~</span> <span class="fu">log</span>(D), <span class="at">data =</span> andmed))</span></code></pre></div>
<pre><code>
Call:
lm(formula = H ~ log(D), data = andmed)

Residuals:
   Min     1Q Median     3Q    Max 
-1,505 -0,532 -0,183  0,673  1,887 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)    0,871      0,799    1,09     0,28
log(D)         4,552      0,397   11,47  7,2e-13

Residual standard error: 0,909 on 32 degrees of freedom
Multiple R-squared:  0,804, Adjusted R-squared:  0,798 
F-statistic:  131 on 1 and 32 DF,  p-value: 7,2e-13</code></pre>
<p>Ning vaatame tulemust graafikul.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="mitme-tunnuse-koosanalüüs.html#cb64-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb64-2"><a href="mitme-tunnuse-koosanalüüs.html#cb64-2" tabindex="-1"></a><span class="co"># Joonista punktgraafik koos regressioonisirgega</span></span>
<span id="cb64-3"><a href="mitme-tunnuse-koosanalüüs.html#cb64-3" tabindex="-1"></a><span class="fu">ggplot</span>(andmed, <span class="fu">aes</span>(<span class="at">x =</span> D, <span class="at">y =</span> H)) <span class="sc">+</span></span>
<span id="cb64-4"><a href="mitme-tunnuse-koosanalüüs.html#cb64-4" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># Lisa punktid andmete jaoks</span></span>
<span id="cb64-5"><a href="mitme-tunnuse-koosanalüüs.html#cb64-5" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">formula =</span> y<span class="sc">~</span><span class="fu">log</span>(x),  <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb64-6"><a href="mitme-tunnuse-koosanalüüs.html#cb64-6" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">20</span>) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">20</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-49"></span>
<img src="_main_files/figure-html/unnamed-chunk-49-1.png" alt="Hajuvusdiagramm logaritmilise teisendusega" width="80%" />
<p class="caption">
Joonis 7.2: Hajuvusdiagramm logaritmilise teisendusega
</p>
</div>
<p>ANOVA (Analysis of Variance) on statistiline meetod, mida kasutatakse kahe või enama rühma keskmiste võrdlemiseks. Regressioonimudelite puhul saab ANOVA-t kasutada kahe mudeli võrdlemiseks, et näha, kas üks mudel selgitab oluliselt rohkem varieeruvust kui teine mudel.</p>
<p><strong>Eeldused</strong></p>
<p>Enne ANOVA kasutamist on oluline tagada, et andmed vastavad järgmistele eeldustele:</p>
<ul>
<li>Sõltuv tunnus peab olema pidev.</li>
<li>Sõltumatud tunnused võivad olla nii pidevad kui ka kategoorilised.</li>
<li>Vigade dispersioon peab olema konstantne (homoskedastsus).</li>
<li>Vead peavad olema normaalselt jaotunud.</li>
<li>Vaatlused peavad olema sõltumatud.</li>
</ul>
<p><strong>ANOVA läbiviimine</strong></p>
<p>Antud juhul on meil kaks mudelit:</p>
<ul>
<li><strong>Mudel 1.</strong> <code>H~D</code></li>
<li><strong>Mudel 2.</strong> <code>H~log(D)</code></li>
</ul>
<p>ANOVA abil saame võrrelda neid kahte mudelit, et näha, kas mudel 2 selgitab oluliselt rohkem varieeruvust kui mudel 1.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="mitme-tunnuse-koosanalüüs.html#cb65-1" tabindex="-1"></a>(aov_1 <span class="ot">&lt;-</span> <span class="fu">anova</span>(lm_1, lm_2))</span></code></pre></div>
<pre><code>Analysis of Variance Table

Model 1: H ~ D
Model 2: H ~ log(D)
  Res.Df  RSS Df Sum of Sq F Pr(&gt;F)
1     32 42,1                      
2     32 26,5  0      15,7         </code></pre>
<p>Tulemusest näeme, et esimese mudeli hälvete ruutude summa (RSS) on suurem (42,1308 &gt; 26,46116), seega on teine mudel täpsem.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="mitme-tunnuse-koosanalüüs.html#cb67-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="fl">0.7</span>, <span class="dv">0</span>))</span>
<span id="cb67-2"><a href="mitme-tunnuse-koosanalüüs.html#cb67-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(<span class="fu">resid</span>(lm_1), <span class="at">bw =</span> <span class="fl">0.5</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.4</span>), <span class="at">main=</span><span class="st">&quot;&quot;</span>, <span class="at">xlab=</span><span class="st">&quot;Jäägid&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;f(x)&quot;</span>)</span>
<span id="cb67-3"><a href="mitme-tunnuse-koosanalüüs.html#cb67-3" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">density</span>(<span class="fu">resid</span>(lm_2), <span class="at">bw =</span> <span class="fl">0.5</span>), <span class="at">col =</span> <span class="dv">2</span>)</span>
<span id="cb67-4"><a href="mitme-tunnuse-koosanalüüs.html#cb67-4" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="dv">0</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-51"></span>
<img src="_main_files/figure-html/unnamed-chunk-51-1.png" alt="Lineaarse regressiooni jääkide tihedusfunktsioon." width="80%" />
<p class="caption">
Joonis 7.3: Lineaarse regressiooni jääkide tihedusfunktsioon.
</p>
</div>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="mitme-tunnuse-koosanalüüs.html#cb68-1" tabindex="-1"></a>(sh_tst_1 <span class="ot">&lt;-</span> <span class="fu">shapiro.test</span>(<span class="fu">resid</span>(lm_1)))</span></code></pre></div>
<pre><code>
    Shapiro-Wilk normality test

data:  resid(lm_1)
W = 0,957, p-value = 0,2</code></pre>
<p>Sinu antud tulemus näitab järgmist:</p>
<ul>
<li><strong>W = 0,95708:</strong> See on teststatistik. W väärtus, mis on lähedal 1-le, viitab sellele, et andmed on tõenäoliselt normaaljaotusega.</li>
<li><strong>p-value = 0,19958:</strong> See on olulisuse tõenäosus (p-väärtus). See näitab tõenäosust, et saaksid sarnase või ekstreemsema tulemuse, kui andmed tegelikult oleksid normaaljaotusega.</li>
</ul>
<p><strong>Järeldus</strong></p>
<p>Kuna p-väärtus (0,95708) on suurem kui tavaline <span class="math inline">\(\alpha\)</span>-tase 0,05, siis me ei saa nullhüpoteesi (et andmed on normaaljaotusega) ümber lükata. See tähendab, et antud andmete põhjal <strong>ei ole piisavalt tõendeid selle kohta, et andmed ei oleks normaaljaotusega</strong>.</p>
<p><strong>Täiendavad kaalutlused</strong></p>
<ul>
<li><strong>Praktiline olulisus:</strong> Kuigi test näitab, et andmed ei pruugi olla <em>täpselt</em> normaaljaotusega, võib see kõrvalekalle olla piisavalt väike, et mitte mõjutada oluliselt järgnevaid statistilisi analüüse.</li>
<li><strong>Visuaalne kontroll:</strong> Lisaks testile on alati kasulik andmeid visuaalselt kontrollida näiteks histogrammi või Q-Q graafiku abil. See aitab paremini mõista andmete jaotust ja võimalikke kõrvalekaldeid.</li>
</ul>
<p><strong>Kokkuvõtteks:</strong> Shapiro-Wilki testi tulemus näitab, et andmed on tõenäoliselt normaaljaotusega, kuid alati on hea mõelda ka andmete praktilisele olulisusele ja neid visuaalselt kontrollida.</p>
</div>
<div id="lineaarne-regressioon-mitme-tunnusega" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Lineaarne regressioon mitme tunnusega<a href="mitme-tunnuse-koosanalüüs.html#lineaarne-regressioon-mitme-tunnusega" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Koostame mudeli, mille valem on <code>HV~D+H</code>.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="mitme-tunnuse-koosanalüüs.html#cb70-1" tabindex="-1"></a><span class="fu">summary</span>(lm_3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(HV<span class="sc">~</span>D<span class="sc">+</span>H, andmed))</span></code></pre></div>
<pre><code>
Call:
lm(formula = HV ~ D + H, data = andmed)

Residuals:
    Min      1Q  Median      3Q     Max 
-1,2054 -0,4429  0,0429  0,4105  1,4123 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)   1,1089     0,6170    1,80    0,082
D            -0,3601     0,0638   -5,65  3,4e-06
H             0,7795     0,0966    8,07  4,1e-09

Residual standard error: 0,627 on 31 degrees of freedom
Multiple R-squared:  0,689, Adjusted R-squared:  0,669 
F-statistic: 34,3 on 2 and 31 DF,  p-value: 1,37e-08</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="mitme-tunnuse-koosanalüüs.html#cb72-1" tabindex="-1"></a><span class="fu">anova</span>(lm_3)</span></code></pre></div>
<pre><code>Analysis of Variance Table

Response: HV
          Df Sum Sq Mean Sq F value  Pr(&gt;F)
D          1   1,39    1,39    3,55   0,069
H          1  25,60   25,60   65,15 4,1e-09
Residuals 31  12,18    0,39                </code></pre>
<p>Mudeli ANOVA test näitab, et diameetri mõju ei pruugi olla oluline.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="mitme-tunnuse-koosanalüüs.html#cb74-1" tabindex="-1"></a><span class="co"># Koostame täiendava mudeli, mis sõltub ainult kõrgusest</span></span>
<span id="cb74-2"><a href="mitme-tunnuse-koosanalüüs.html#cb74-2" tabindex="-1"></a>lm_4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(HV<span class="sc">~</span>H, andmed)</span>
<span id="cb74-3"><a href="mitme-tunnuse-koosanalüüs.html#cb74-3" tabindex="-1"></a><span class="co"># Võrdleme kahte mudelit omavahel</span></span>
<span id="cb74-4"><a href="mitme-tunnuse-koosanalüüs.html#cb74-4" tabindex="-1"></a>aov_2 <span class="ot">&lt;-</span> <span class="fu">anova</span>(lm_4, lm_3)</span></code></pre></div>
<p>Tulemusest on näha, et täiendavalt diameetrit sisaldav mudel on oluliselt (p-väärtus 3,37587^{-6}) täpsem, kui ainult kõrgusest sõltuv mudel.</p>
<p>Kasutame funktsiooni <code>termplot()</code>, et hinnata regressioonimudeli üksikute terminite mõju visualselt. See aitab mõista, kuidas iga argumenttunnus mõjutab funktsioontunnust, kui kõik teised tunnused hoitakse konstantsena.</p>
<ol style="list-style-type: decimal">
<li><strong>Regressioonimudel:</strong> Esiteks pead looma regressioonimudeli (lineaarne, üldistatud lineaarne või mõni muu), kasutades näiteks funktsioone nagu <code>lm</code> või <code>glm</code>.</li>
<li><strong><code>termplot()</code> funktsioon:</strong> Seejärel kasutad funktsiooni <code>termplot</code>, andes sellele mudeli ja määrates, milliseid termineid (tunnuseid) soovid visualiseerida.</li>
<li><strong>Graafik:</strong> <code>termplot</code> loob graafiku, kus x-teljel on konkreetse tunnuse väärtused ja y-teljel on selle tunnuse mõju vastussuurusele. Graafik näitab, kuidas vastussuurus muutub, kui tunnuse väärtus muutub, hoides samal ajal kõik teised tunnused konstantsena.</li>
</ol>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="mitme-tunnuse-koosanalüüs.html#cb75-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfcol=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">mgp=</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="fl">0.7</span>, <span class="dv">0</span>))</span>
<span id="cb75-2"><a href="mitme-tunnuse-koosanalüüs.html#cb75-2" tabindex="-1"></a><span class="fu">termplot</span>(lm_3, <span class="at">partial.resid =</span> T, <span class="at">se=</span>T)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-56"></span>
<img src="_main_files/figure-html/unnamed-chunk-56-1.png" alt="Argumenttunnuste mõju funktsioontunnusele." width="80%" />
<p class="caption">
Joonis 7.4: Argumenttunnuste mõju funktsioontunnusele.
</p>
</div>
<p><strong>Olulised parameetrid</strong></p>
<ul>
<li><strong><code>model</code>:</strong> Regressioonimudel, mille jaoks termplot luuakse.</li>
<li><strong><code>terms</code>:</strong> Vektor, mis määrab, milliseid termineid (tunnuseid) soovitakse visualiseerida.</li>
<li><strong><code>partial.resid</code>:</strong> Loogiline väärtus, mis määrab, kas graafikule lisatakse osalised jäägid.</li>
<li><strong><code>se</code>:</strong> Loogiline väärtus, mis määrab, kas graafikule lisatakse standardvead.</li>
</ul>
<p>Vaatame tunnuste omavahelist korrelatsiooni ning sellest näeme, et D ja H vahel on tugev korrelatsioon. See mõjutab ka mudeli parameetreid.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="mitme-tunnuse-koosanalüüs.html#cb76-1" tabindex="-1"></a><span class="fu">cor</span>(andmed[,<span class="fu">c</span>(<span class="st">&quot;D&quot;</span>,<span class="st">&quot;H&quot;</span>, <span class="st">&quot;HV&quot;</span>)])</span></code></pre></div>
<pre><code>         D       H      HV
D  1,00000 0,82967 0,18860
H  0,82967 1,00000 0,60777
HV 0,18860 0,60777 1,00000</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="statistilised-hinnangud.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mittelineaarne-regressioon.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"caption": {
"figure_num_sep": ".",
"table_num_sep": "."
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
